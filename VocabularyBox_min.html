<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" /><title>VocabularyBox</title></head><body><script>!function(e){"use strict";var t={LOAD_JSON_FIRST:"ë¨¼ì € â€˜ì—´ê¸°â€™ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¨ì–´ì¥(JSON íŒŒì¼)ì„ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.",TEXT_COPIED:"í…ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤."};function o(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<o;r++){var a=t[r];if(e.call(n,a,r,t))return a}},configurable:!0,writable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){var o=Object(this),n=o.length>>>0;if(0===n)return!1;for(var r=0|t,a=r>=0?r:Math.max(n+r,0);a<n;){var i=o[a];if(i===e||"number"==typeof i&&"number"==typeof e&&isNaN(i)&&isNaN(e))return!0;a++}return!1},configurable:!0,writable:!0});var n=0,r=0,a=0;function i(){var e=document.documentElement;n=e.scrollHeight||document.body.scrollHeight||0,r=e.clientHeight||window.innerHeight||0}function d(){if(a){try{cancelAnimationFrame(a)}catch(e){}a=0}a=requestAnimationFrame((function(){i(),E&&E()}))}var l,c=0,s=0,p=null,u=0;function m(){return+new Date}function b(e){var t="number"==typeof e?e:120,o=m();c=o+t}function f(){var e=m();return!!p||e<c}function v(e){var t=m(),o="number"==typeof e?e:32;u=Math.max(u,t+o)}function g(){p=null,s++}function h(){try{window.removeEventListener("scroll",E)}catch(e){}try{window.removeEventListener("scroll",K)}catch(e){}if(P){try{cancelAnimationFrame(P)}catch(e){}P=null}if(a){try{cancelAnimationFrame(a)}catch(e){}a=0}v(80)}function y(){window.addEventListener("scroll",E,{passive:!0}),window.addEventListener("scroll",K,{passive:!0}),v(48),d()}var x,w=[],k="";function C(e){VBStorage.getReviewIds((function(t,o){VBData.reviewIds=M(o||[]),VBStorage.getKnownIds((function(t,o){VBData.knownIds=M(o||[]),VBStorage.getSrsMeta((function(t,o){VBData.srsMeta=o||{},VBStorage.getDailyLog((function(t,o){VBData.dailyLog=o||{},VBStorage.getTheme((function(t,o){VBData.theme=o||"light",e&&e()}))}))}))}))}))}function E(){if(x){var e=document.documentElement.scrollTop||document.body.scrollTop||0,t=n<=r?0:e/(n-r)*100;x.style.width=t+"%"}}function M(e){var t,o,n=[];for(t=0;t<e.length;t++)o=+e[t],isNaN(o)||-1!==n.indexOf(o)||n.push(o);return n}function B(e){var t=(e||"").split("-");if(3!==t.length)return null;var o=+t[0],n=+t[1],r=+t[2];return o&&n&&r?new Date(o,n-1,r):null}function T(e,t){e=e||30,VBData.dailyLog||(VBData.dailyLog={});var o=VBData.dailyLog,n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=!1;for(var i in o)if(o.hasOwnProperty(i)){var d=B(i);if(d)Math.floor((r.getTime()-d.getTime())/864e5)>=e&&(delete o[i],a=!0);else delete o[i],a=!0}a?(VBData.dailyLog=o,VBStorage.setDailyLog(o,(function(e){t&&t(e,!0)}))):t&&t(null,!1)}function S(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[o],e[o]=n}}function L(){var e=navigator.userAgent||"",t=/iPhone|iPad|iPod/.test(e),o=!1;try{o="MacIntel"===navigator.platform&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1}catch(e){o=!1}return t||o}function z(){var t,o,n=e.speechSynthesis.getVoices(),r=[],a=["google us english","karen","samantha","daniel","moira","serena","fred"];for(t=0;t<n.length;t++)/^en([-_]|$)/i.test(n[t].lang)&&r.push(n[t]);for(t=0;t<a.length;t++)for(o=0;o<r.length;o++)if(-1!==(r[o].name||"").toLowerCase().indexOf(a[t]))return r[o];return r[0]||n[0]||null}function I(t){var o=e.speechSynthesis;if(o){var n=!1;try{n=L()}catch(e){n=!1}try{o.cancel()}catch(e){}var r=new SpeechSynthesisUtterance(t);if(r.lang="en-US",r.rate=.95,r.pitch=1,r.volume=1,!n)return I.voice&&/^en/i.test(I.voice.lang)||(I.voice=z()),I.voice&&(r.voice=I.voice),void o.speak(r);I.voice=null,setTimeout((function(){try{o.speak(r)}catch(e){}}),60)}}function O(e){return-1!==VBData.knownIds.indexOf(+e)}l=void 0!==e&&e.wordsData?e.wordsData:{id:"",words:[]},w=l.words.slice(),window.wordMap=function(){var e,t={};for(e=0;e<w.length;e++)t[+w[e].word_id]=w[e];return t}(),window.VBStorage=function(){var e=null,t="VocabularyBoxDB",o=1,n="reviewIds",r="knownIds",a="srsMeta",i="theme",d="dailyLog";function l(l){if(e)return l(null,e);var c=window.indexedDB.open(t,o);c.onerror=function(e){l(e,null)},c.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(n)||t.createObjectStore(n,{keyPath:"id"}),t.objectStoreNames.contains(r)||t.createObjectStore(r,{keyPath:"id"}),t.objectStoreNames.contains(a)||t.createObjectStore(a,{keyPath:"id"}),t.objectStoreNames.contains(i)||t.createObjectStore(i,{keyPath:"id"}),t.objectStoreNames.contains(d)||t.createObjectStore(d,{keyPath:"id"})},c.onsuccess=function(t){e=t.target.result,l(null,e)}}function c(){var e=window.dbname||k;if(!e)throw new Error("DB ì´ë¦„ì´ ì§€ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");return e}function s(e,t,o){var n;try{n=c()}catch(e){return void(o&&o(e))}l((function(r,a){if(r)return o&&o(r);var i=a.transaction(e,"readwrite");i.objectStore(e).put({id:n,value:t}),i.oncomplete=function(){o&&o(null)},i.onerror=function(e){o&&o(e)}}))}function p(e,t){var o;try{o=c()}catch(e){return void(t&&t(e))}l((function(n,r){if(n)return t&&t(n,null);var a=r.transaction(e,"readonly").objectStore(e).get(o);a.onsuccess=function(){t(null,a.result?a.result.value:void 0)},a.onerror=function(e){t(e,null)}}))}return{setReviewIds:function(e,t){s(n,e,t)},getReviewIds:function(e){p(n,e)},setKnownIds:function(e,t){s(r,e,t)},getKnownIds:function(e){p(r,e)},setSrsMeta:function(e,t){s(a,e,t)},getSrsMeta:function(e){p(a,e)},setTheme:function(e,t){s(i,e,t)},getTheme:function(e){p(i,e)},setDailyLog:function(e,t){s(d,e,t)},getDailyLog:function(e){p(d,e)}}}(),window.VBData={reviewIds:[],knownIds:[],srsMeta:{},dailyLog:{},theme:"light"},VBStorage.getReviewIds((function(e,t){window.VBData.reviewIds=M(t||[])})),VBStorage.getKnownIds((function(e,t){window.VBData.knownIds=M(t||[])})),VBStorage.getSrsMeta((function(e,t){window.VBData.srsMeta=t||{}})),VBStorage.getDailyLog((function(e,t){window.VBData.dailyLog=t||{}})),VBStorage.getTheme((function(e,t){window.VBData.theme=t||"light"})),document.addEventListener("DOMContentLoaded",(function(){C((function(){X()}))})),e.addEventListener("scroll",E,{passive:!0}),e.addEventListener("resize",(function(){i(),E()}),!1),e.addEventListener("DOMContentLoaded",(function(){x||((x=e.document.createElement("div")).id="scrollProgress",x.style.cssText="position:fixed;top:0;left:0;height:4px;width:0;background:#2ECC71;z-index:10000;pointer-events:none;",e.document.body.appendChild(x)),i(),E()}),!1),function(){var t=e.speechSynthesis;function o(){L()?I.voice=null:I.voice=z()}t&&(t.getVoices().length?o():t.onvoiceschanged=o)}();var N=document.createElement("style");N.textContent="*{box-shadow:none !important;text-shadow:none !important;-webkit-backdrop-filter:none !important;backdrop-filter:none !important;}:root{--neo-bg:#f6f9ff;--neo-bg-grad-a:#f7fbff;--neo-bg-grad-b:#eef6ff;--neo-card-bg:rgba(255,255,255,0.66);--neo-card-border:rgba(120,140,180,0.25);--neo-card-shadow:0 10px 30px rgba(30,60,120,0.10),0 1px 0 rgba(255,255,255,0.7) inset;--neo-text:#0f172a;--neo-muted:#5b677a;--neo-accent:#2f86f6;--neo-accent-2:#00c2a8;--neo-warn:#ffd54f;--neo-radius-lg:18px;--neo-radius-md:12px;--neo-radius-sm:9px;--neo-focus:0 0 0 3px rgba(47,134,246,.25),0 4px 14px rgba(47,134,246,.22);}body.dark-mode{--neo-bg:#0e1116;--neo-bg-grad-a:#0e141b;--neo-bg-grad-b:#111827;--neo-card-bg:rgba(22,26,34,0.72);--neo-card-border:rgba(120,140,180,0.14);--neo-card-shadow:0 10px 26px rgba(0,0,0,0.35),0 1px 0 rgba(255,255,255,0.02) inset;--neo-text:#e6eef9;--neo-muted:#98a6bd;--neo-accent:#6ec1ff;--neo-accent-2:#3de0c9;--neo-warn:#ffd54f;}html{background-color:#f6f9ff !important;}body{min-height:100vh;background:linear-gradient(180deg,var(--neo-bg-grad-a),var(--neo-bg-grad-b)) !important;color:var(--neo-text);}body.dark-mode,html.dark-mode{background-color:#0e1116 !important;}*,*::before,*::after{font-family:'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif!important;}html,body{margin:0 !important;padding:0 !important;box-sizing:border-box;overflow-x:hidden;}html,body{background:linear-gradient(180deg,var(--neo-bg-grad-a),var(--neo-bg-grad-b));color:var(--neo-text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;}#currentWordbookTitle{display:flex;align-items:center;justify-content:center;padding:16px 38px 16px 20px;margin:15px auto;border-radius:20px;background:linear-gradient(96deg,rgba(255,255,255,.85) 0%,rgba(210,236,255,.55) 100%) !important;border:1px solid var(--neo-card-border) !important;box-shadow:var(--neo-card-shadow) !important;max-width:max-content;min-width:220px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;transition:all .18s;}body.dark-mode #currentWordbookTitle{background:linear-gradient(96deg,rgba(28,36,46,.72) 0%,rgba(36,77,118,.45) 100%) !important;}#currentWordbookTitle .label-title{color:#2297f4;font-weight:900;font-size:1.21em;letter-spacing:0.01em;margin-right:25px;}body.dark-mode #currentWordbookTitle .label-title{color:#5bcaff;margin-right:25px;}#currentWordbookTitle .title-icon{width:36px;height:36px;display:flex;align-items:center;justify-content:center;font-size:1.2em;border-radius:8px;margin-right:14px;box-shadow:0 2px 16px 0 #bde7ff44;background:linear-gradient(135deg,#e9f7fe 0%,#75cfff 100%);}body.dark-mode #currentWordbookTitle .title-icon{background:linear-gradient(135deg,#1e293b 0%,#1fa3ff 100%);}#wordListContainer{max-width:920px !important;padding:14px 12px !important;}.word-card{background:var(--neo-card-bg) !important;border:1px solid var(--neo-card-border) !important;box-shadow:var(--neo-card-shadow) !important;border-radius:var(--neo-radius-lg) !important;padding:1.05em 1.1em !important;transition:transform .18s ease,box-shadow .18s ease,background .18s ease,border-color .18s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#1c1c1e;margin-bottom:3em;}.word-card:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(30,60,120,0.16);}body.dark-mode .word-card:hover{box-shadow:0 16px 36px rgba(0,0,0,0.45);}.word-spell{color:#111;font-weight:700;line-height:1.25;letter-spacing:0.2px;word-break:keep-all;overflow-wrap:break-word;white-space:normal;font-size:clamp(1.4em,6vw,2.2em);}.pronounce{color:var(--neo-muted) !important;font-size:1.1em;font-weight:500;margin-top:.3em;}.meaning-text{color:#333;font-size:1.1em;font-weight:700;}.plus-label{color:#333;font-weight:700;}body.dark-mode{background:#1e1e1e;color:#f1f1f1;}body.dark-mode .word-card{background:#2c2c2e;border-color:#333;color:#f1f1f1;}body.dark-mode .pronounce{color:#f1f1f1;}body.dark-mode .meaning-text{color:#f1f1f1;font-weight:500;}body.dark-mode a{color:#64b5f6 !important;}body.dark-mode #searchUI button,body.dark-mode .word-card button{background:#3a3a3c;color:#aaa;border:none !important;box-shadow:inset 0 0 0 1px #555 !important;}body.dark-mode #searchUI button:hover,body.dark-mode .word-card button:hover{background:#333;}body.dark-mode .word-spell,body.dark-mode .plus-label{color:#81c784 !important;}body.dark-mode #searchUI input[type='number'],body.dark-mode #searchUI input[type='search']{background:#2b2d31 !important;color:#eee !important;border:1px solid #555 !important;}body.dark-mode .example-label,body.dark-mode .trans-label{color:#81c784 !important;}body.dark-mode .plus-box{border-top-color:#555;background:#383C3F;}body.dark-mode .plus-box.open{color:#ccc;}body{background:#f9fbfd;}*,*::before,*::after{font-family:'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif!important;}#searchUI{background:rgba(255,255,255,0.72) !important;border:1px solid rgba(120,140,180,0.25) !important;border-radius:22px !important;padding:16px 14px !important;box-shadow:var(--neo-card-shadow) !important;}body.dark-mode #searchUI{background:rgba(20,26,34,0.85) !important;border-color:rgba(120,140,170,0.3) !important;box-shadow:0 12px 28px rgba(0,0,0,0.45) !important;}#searchUI button,.word-card button,#reviewModal button{padding:6px 14px;margin:4px;border-radius:var(--neo-radius-md) !important;background-image:linear-gradient(135deg,rgba(47,134,246,0.12),rgba(0,194,168,0.10)) !important;background-color:transparent !important;border:1px solid rgba(100,140,200,0.35) !important;color:var(--neo-text) !important;font-size:clamp(0.86em,2.2vw,1em) !important;font-weight:500;line-height:1.2;cursor:pointer;height:32px;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 6px 16px rgba(40,80,160,0.12) !important;transition:transform .12s ease,box-shadow .14s ease,filter .14s ease,border-color .14s ease;}#searchUI button:hover,.word-card button:hover,#reviewModal button:hover{transform:translateY(-1px);box-shadow:0 1px 0 rgba(255,255,255,0.7) inset,0 9px 22px rgba(40,80,160,0.18) !important;border-color:rgba(110,170,255,0.55) !important;}#searchUI button:active,.word-card button:active,#reviewModal button:active{transform:scale(.98);}#toggleModeBtn{display:inline-flex;align-items:center;justify-content:center;border-radius:22px !important;border-color:rgba(110,170,255,0.65) !important;box-shadow:0 10px 30px rgba(33,169,255,0.16) !important;cursor:pointer;}#toggleModeBtn .theme-icon{box-shadow:0 4px 14px rgba(97,207,255,0.35) !important;}#toggleModeBtn .theme-label{font-size:1.08em;font-weight:700;letter-spacing:0.01em;opacity:.89;}#pBtn,#dictBtn,#soundBtn{font-weight:600 !important;letter-spacing:.1px;}#searchUI input[type='search']{width:200px;height:34px;padding:6px 10px;font-size:16px;border-radius:var(--neo-radius-md) !important;border:1px solid rgba(120,150,200,0.45) !important;background:rgba(255,255,255,0.72) !important;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 6px 14px rgba(70,110,170,0.08);color:var(--neo-text) !important;}#searchUI input[type='number']{width:70px!important;max-width:9ch!important;height:34px!important;font-size:16px;padding:4px 6px;text-align:center;border-radius:var(--neo-radius-md) !important;border:1px solid rgba(120,150,200,0.45) !important;background:rgba(255,255,255,0.72) !important;box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 6px 14px rgba(70,110,170,0.08);color:var(--neo-text) !important;}@media(max-width:412px){#searchUI input[type='number']{width:70px!important;max-width:7.5ch!important;height:32px!important;line-height:1.35;letter-spacing:.01em;font-weight:600;padding:2px 2px;text-align:center;}}body.dark-mode #searchUI input[type='search'],body.dark-mode #searchUI input[type='number']{background:rgba(28,34,44,0.72) !important;border-color:rgba(120,150,200,0.25) !important;box-shadow:0 1px 0 rgba(255,255,255,0.04) inset,0 6px 14px rgba(0,0,0,0.35);color:var(--neo-text) !important;}#searchUI input:focus{outline:none;box-shadow:var(--neo-focus);}.plus-box{overflow:hidden;max-height:0;opacity:0;background:linear-gradient(180deg,rgba(230,245,255,0.5),rgba(218,248,240,0.35)) !important;border-radius:var(--neo-radius-md) !important;border-top:1px dashed rgba(90,110,140,0.45) !important;padding:.8em !important;pointer-events:none;}.plus-box.open{max-height:400px;opacity:1;margin-top:1em;pointer-events:auto;}body.dark-mode .plus-box{background:linear-gradient(180deg,rgba(30,42,55,0.6),rgba(20,36,42,0.45)) !important;border-top-color:rgba(120,140,170,0.25) !important;}#vbPlusPopover{position:fixed;left:0;top:0;z-index:20050;min-width:156px;max-width:86vw;padding:6px;border-radius:14px;border:1px solid rgba(120,140,180,0.28);background:rgba(255,255,255,0.92)!important;box-shadow:0 16px 40px rgba(0,0,0,0.18)!important;-webkit-backdrop-filter:blur(14px) saturate(160%)!important;backdrop-filter:blur(14px) saturate(160%)!important;opacity:0;transform:translate3d(0,10px,0) scale(0.995);pointer-events:none;transform-origin:top left;transition:opacity .16s ease,transform .22s cubic-bezier(.21,1.02,.73,1);will-change:transform,opacity;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;}#vbPlusPopover.open{opacity:1;transform:translate3d(0,0,0) scale(1);pointer-events:auto;}body.dark-mode #vbPlusPopover{border-color:rgba(120,140,170,0.26);background:rgba(24,30,38,0.86)!important;box-shadow:0 18px 44px rgba(0,0,0,0.38)!important;-webkit-backdrop-filter:blur(16px) saturate(150%)!important;backdrop-filter:blur(16px) saturate(150%)!important;}#vbPlusPopover .vbPopTitle{font-size:.95em;font-weight:800;padding:7px 10px 5px 10px;color:var(--neo-text);opacity:.92;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.1px;line-height:1.2;}#vbPlusPopover .vbPopItem{display:flex;align-items:center;gap:8px;width:100%;padding:10px 10px;border-radius:10px;border:none;background:transparent;color:var(--neo-text);font-size:.95em;font-weight:650;letter-spacing:0;line-height:1.25;cursor:pointer;text-align:left;transition:background .14s ease,transform .10s ease;}#vbPlusPopover .vbPopItem:hover{background:rgba(47,134,246,0.10);}body.dark-mode #vbPlusPopover .vbPopItem:hover{background:rgba(110,193,255,0.14);}#vbPlusPopover .vbPopItem:active{transform:translate3d(0,1px,0);}@media (prefers-reduced-motion:reduce){#vbPlusPopover{transition:none !important;}#vbPlusPopover .vbPopItem{transition:none !important;}#vbPlusPopover .vbPopItem:active{transform:none !important;}}.vbPlusTerm{color:var(--neo-accent) !important;text-decoration:none;border-bottom:1px solid currentColor;padding-bottom:0;}.example-box{background:rgba(255,255,255,0.62);border:1px solid rgba(120,140,180,0.28);padding:.75em .8em;border-radius:var(--neo-radius-md);}body.dark-mode .example-box{background:rgba(18,24,28,0.6);border-color:rgba(120,140,170,0.22);}#reviewModal .modalBox,#importBox,#quizContainer,#statsModal{background:rgba(255,255,255,0.88) !important;color:var(--neo-text) !important;border:1px solid rgba(120,140,180,0.22) !important;box-shadow:var(--neo-card-shadow) !important;backdrop-filter:blur(7px) !important;-webkit-backdrop-filter:blur(7px) !important;}body.dark-mode #reviewModal .modalBox,body.dark-mode #importBox,body.dark-mode #quizContainer,body.dark-mode #statsModal{background:rgba(24,30,38,0.88) !important;color:var(--neo-text) !important;border-color:rgba(120,140,170,0.32) !important;backdrop-filter:blur(7px) !important;-webkit-backdrop-filter:blur(7px) !important;}body.dark-mode #quizCloseBtn:hover{background:#3c4b5c !important;color:#f6faff !important;}/* Toast (Readable + Soft Motion) */#wmToast{position:fixed;left:50%;top:12px;top:calc(constant(safe-area-inset-top) + 12px);top:calc(env(safe-area-inset-top) + 12px);transform:translate3d(-50%,-16px,0);opacity:0;pointer-events:none;z-index:99999;max-width:min(680px,96vw);box-sizing:border-box;display:flex;align-items:center;justify-content:center;gap:10px;padding:10px 18px;border-radius:18px;background:rgba(18,22,28,.92)!important;color:#fff;border:1px solid rgba(255,255,255,.14);box-shadow:0 12px 32px rgba(0,0,0,.28)!important;-webkit-backdrop-filter:blur(12px) saturate(160%)!important;backdrop-filter:blur(12px) saturate(160%)!important;font-size:15px;font-weight:600;letter-spacing:0;line-height:1.45;white-space:pre-line;word-break:keep-all;overflow-wrap:anywhere;text-align:left;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;text-size-adjust:100%;text-shadow:0 1px 1px rgba(0,0,0,.25)!important;will-change:transform,opacity;}body:not(.dark-mode) #wmToast{background:rgba(255,255,255,.96)!important;color:#222;border:1px solid rgba(0,0,0,.08);box-shadow:0 12px 30px rgba(0,0,0,.12)!important;text-shadow:0 1px 0 rgba(255,255,255,.55)!important;}#wmToast.vb-in{opacity:1;transform:translate3d(-50%,0,0);animation:vbToastIn .32s cubic-bezier(.21,1.02,.73,1) both;}#wmToast.vb-out{opacity:0;transform:translate3d(-50%,-12px,0);animation:vbToastOut .34s cubic-bezier(.06,.71,.55,1) both;}@keyframes vbToastIn{0%{opacity:.4;transform:translate3d(-50%,-16px,0);}100%{opacity:1;transform:translate3d(-50%,0,0);}}@keyframes vbToastOut{0%{opacity:1;transform:translate3d(-50%,0,0);}100%{opacity:0;transform:translate3d(-50%,-12px,0);}}@media (prefers-reduced-motion:reduce){#wmToast.vb-in,#wmToast.vb-out{animation:none!important;}#wmToast.vb-in{opacity:1;transform:translate3d(-50%,0,0);}#wmToast.vb-out{opacity:0;transform:translate3d(-50%,-12px,0);}}#scrollProgress{height:6px !important;background:linear-gradient(90deg,#7dd3fc,#60a5fa,#34d399,#6ee7b7) !important;background-size:100% 100% !important;box-shadow:0 0 10px rgba(255,255,255,0.25);animation:rainbowHue 10s linear infinite;transform-origin:left center;}@keyframes rainbowHue{0%{filter:hue-rotate(0deg);}100%{filter:hue-rotate(360deg);}}#goTop,#goBottom{position:fixed;right:15px;width:40px;height:40px;font-size:20px;background:rgba(20,24,32,0.4) !important;color:#fff;border:1px solid rgba(120,140,180,0.25) !important;border-radius:12px;box-shadow:0 10px 18px rgba(0,0,0,0.25) !important;cursor:pointer;z-index:999;backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);}#goTop:hover,#goBottom:hover{transform:translateY(-2px);}a{color:var(--neo-accent) !important;text-underline-offset:2px;}a:hover{filter:brightness(1.05);}*::-webkit-scrollbar{height:12px;width:12px;}*::-webkit-scrollbar-track{background:transparent;}*::-webkit-scrollbar-thumb{background:linear-gradient(180deg,rgba(120,170,255,0.55),rgba(0,194,168,0.45));border-radius:10px;border:3px solid transparent;background-clip:padding-box;}body.dark-mode *::-webkit-scrollbar-thumb{background:linear-gradient(180deg,rgba(110,160,250,0.45),rgba(61,224,201,0.35));}.word-card .meaning-text{font-weight:600 !important;}.word-card .example-label,.word-card .trans-label{color:var(--neo-accent) !important;font-weight:700 !important;}.star-icon{text-shadow:0 2px 8px rgba(255,213,79,0.25);transition:transform .15s ease,text-shadow .15s ease;}.star-icon:hover{transform:scale(1.08);text-shadow:0 4px 14px rgba(255,213,79,0.35);}.word-header-left{display:flex;align-items:baseline;gap:8px;flex-grow:1;min-width:0;flex-wrap:wrap;}.word-header-right{display:flex;gap:10px;align-items:center;flex-shrink:0;line-height:1;}.ui-row{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;align-items:center;flex:1;}.ui-row>*{flex-shrink:0;white-space:pre;box-sizing:border-box;}@media(max-width:360px){.ui-row{gap:6px;flex-wrap:nowrap!important;}.ui-row button{padding:4px 8px;margin:2px;font-size:.86em;flex-shrink:1;}.ui-row input[type='number']{width:56px!important;max-width:6ch!important;font-size:.86em;padding:3px 4px;}.ui-row input{flex-shrink:0;}}.word-card-header{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:nowrap;}.icon-wrap{display:flex;align-items:center;justify-content:center;position:relative;width:1.3em;height:1.3em;overflow:hidden;vertical-align:middle;margin-top:-1px;}.icon-wrap span{position:absolute;left:0;top:0.05em;width:100%;text-align:center;font-size:1em;line-height:1.1;transition:transform .4s ease,opacity .4s ease;}.icon-exit{transform:translateX(-100%);opacity:0;}.icon-enter{transform:translateX(0);opacity:1;}.icon-prep{transform:translateX(100%);opacity:0;}body.dark-mode .word-card{background:var(--neo-card-bg) !important;color:var(--neo-text) !important;}body.dark-mode .word-spell,body.dark-mode .meaning-text,body.dark-mode .plus-label{color:var(--neo-text) !important;}body.dark-mode .pronounce{color:var(--neo-muted) !important;}body.dark-mode #searchUI button,body.dark-mode .word-card button,body.dark-mode #reviewModal button{background:#3a3a3c !important;color:#aaa !important;border:1px solid #555 !important;}body.dark-mode #searchUI button:hover,body.dark-mode .word-card button:hover,body.dark-mode #reviewModal button:hover{background:#333 !important;}@supports (-webkit-touch-callout:none){body:not(.dark-mode){background:#fff !important;}body:not(.dark-mode) .word-card,body:not(.dark-mode) #searchUI input[type='number'],body:not(.dark-mode) #searchUI input[type='search']{background:#fff !important;border:1px solid #ccc !important;color:#111 !important;}}#currentWordbookTitle{position:relative;}#vbLicenseBtn{position:absolute;right:5px;width:30px;height:30px;border-radius:999px;border:1px solid rgba(120,140,180,0.35);background:rgba(255,255,255,0.55);color:var(--neo-muted);cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 14px rgba(40,80,160,0.10);}body.dark-mode #vbLicenseBtn{background:rgba(20,26,34,0.65);border-color:rgba(120,140,170,0.30);box-shadow:0 10px 18px rgba(0,0,0,0.35);}.vbOverlay{position:fixed;inset:0;top:0;left:0;right:0;bottom:0;width:100%;height:100%;min-width:100%;min-height:100%;background:rgba(0,0,0,0.34);z-index:9999;display:flex;align-items:center;justify-content:center;padding:16px;box-sizing:border-box;backdrop-filter:blur(7px) saturate(140%) !important;-webkit-backdrop-filter:blur(7px) saturate(140%) !important;}body.dark-mode .vbOverlay{background:rgba(0,0,0,0.55);}#vbLicenseOverlay{z-index:30000;padding:18px;}#vbLicenseModal{width:min(560px,94vw);max-height:82vh;overflow:hidden;border-radius:16px;border:1px solid rgba(120,140,180,0.22);background:rgba(255,255,255,0.92);box-shadow:0 18px 44px rgba(0,0,0,0.25);}body.dark-mode #vbLicenseModal{background:rgba(24,30,38,0.92);border-color:rgba(120,140,170,0.32);box-shadow:0 20px 54px rgba(0,0,0,0.55);}#vbLicenseModal .vbLicHead{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 10px 14px;border-bottom:1px solid rgba(120,140,180,0.18);}body.dark-mode #vbLicenseModal .vbLicHead{border-bottom-color:rgba(120,140,170,0.22);}#vbLicenseModal .vbLicTitle{font-weight:900;font-size:1.05em;letter-spacing:.01em;}#vbLicenseModal .vbLicBody{padding:12px 14px 14px 14px;overflow:auto;max-height:calc(82vh - 58px);}#vbLicenseModal pre{margin:0;white-space:pre-wrap;overflow-wrap:anywhere;word-break:keep-all;font-size:0.95em;line-height:1.45;color:var(--neo-text);}body.vbxModalOpen{overflow:hidden !important;}#vbLicenseModal{--vbCloseSize:30px;--vbCloseRadius:9px;}#quizCloseBtn,#vbQuizOptClose,#vbMatchCloseBtn,#vbLicenseModal .vbLicClose{all:unset;-webkit-appearance:none;appearance:none;width:var(--vbCloseSize,36px);height:var(--vbCloseSize,36px);border-radius:var(--vbCloseRadius,10px);box-sizing:border-box;border:2px solid rgba(120,140,180,0.35) !important;background:rgba(255,255,255,0.08) !important;box-shadow:0 6px 14px rgba(40,80,160,0.10) !important;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;position:relative !important;outline:none;padding:0 !important;margin:0;transform:none !important;font-size:0 !important;color:transparent !important;}#quizCloseBtn::before,#quizCloseBtn::after,#vbQuizOptClose::before,#vbQuizOptClose::after,#vbMatchCloseBtn::before,#vbMatchCloseBtn::after,#vbLicenseModal .vbLicClose::before,#vbLicenseModal .vbLicClose::after{content:\"\";position:absolute;top:50%;left:50%;width:16px;height:3px;border-radius:3px;transform-origin:center;background:rgba(60,80,110,0.95);box-shadow:0 1px 1px rgba(255,255,255,0.7);}#quizCloseBtn::before,#vbQuizOptClose::before,#vbMatchCloseBtn::before,#vbLicenseModal .vbLicClose::before{transform:translate(-50%,-50%) rotate(45deg);}#quizCloseBtn::after,#vbQuizOptClose::after,#vbMatchCloseBtn::after,#vbLicenseModal .vbLicClose::after{transform:translate(-50%,-50%) rotate(-45deg);}#quizCloseBtn:hover,#vbQuizOptClose:hover,#vbMatchCloseBtn:hover,#vbLicenseModal .vbLicClose:hover{background:rgba(210,236,255,0.55) !important;border-color:rgba(110,170,255,0.65) !important;box-shadow:0 8px 16px rgba(40,80,160,0.16) !important;}#quizCloseBtn:hover::before,#quizCloseBtn:hover::after,#vbQuizOptClose:hover::before,#vbQuizOptClose:hover::after,#vbMatchCloseBtn:hover::before,#vbMatchCloseBtn:hover::after,#vbLicenseModal .vbLicClose:hover::before,#vbLicenseModal .vbLicClose:hover::after{background:rgba(30,42,54,0.98);}#quizCloseBtn:focus-visible,#vbQuizOptClose:focus-visible,#vbMatchCloseBtn:focus-visible,#vbLicenseModal .vbLicClose:focus-visible{box-shadow:0 0 0 3px rgba(110,170,255,0.28),0 10px 22px rgba(40,80,160,0.16) !important;}body.dark-mode #quizCloseBtn,body.dark-mode #vbQuizOptClose,body.dark-mode #vbMatchCloseBtn,body.dark-mode #vbLicenseModal .vbLicClose{background:rgba(20,26,34,0.45) !important;border:2px solid rgba(120,140,170,0.35) !important;box-shadow:0 10px 18px rgba(0,0,0,0.35) !important;}body.dark-mode #quizCloseBtn::before,body.dark-mode #quizCloseBtn::after,body.dark-mode #vbQuizOptClose::before,body.dark-mode #vbQuizOptClose::after,body.dark-mode #vbMatchCloseBtn::before,body.dark-mode #vbMatchCloseBtn::after,body.dark-mode #vbLicenseModal .vbLicClose::before,body.dark-mode #vbLicenseModal .vbLicClose::after{background:rgba(234,248,243,0.95);box-shadow:0 1px 1px rgba(0,0,0,0.45);}body.dark-mode #quizCloseBtn:hover,body.dark-mode #vbQuizOptClose:hover,body.dark-mode #vbMatchCloseBtn:hover,body.dark-mode #vbLicenseModal .vbLicClose:hover{background:#3c4b5c !important;border-color:#58708a !important;box-shadow:0 12px 22px rgba(0,0,0,0.45) !important;}body.dark-mode #quizCloseBtn:hover::before,body.dark-mode #quizCloseBtn:hover::after,body.dark-mode #vbQuizOptClose:hover::before,body.dark-mode #vbQuizOptClose:hover::after,body.dark-mode #vbMatchCloseBtn:hover::before,body.dark-mode #vbMatchCloseBtn:hover::after,body.dark-mode #vbLicenseModal .vbLicClose:hover::before,body.dark-mode #vbLicenseModal .vbLicClose:hover::after{background:#f6faff;}#vbQuizOptStart,#vbQuizOptCancel{padding:6px 14px;margin:4px;border-radius:var(--neo-radius-md) !important;background-image:linear-gradient(135deg,rgba(47,134,246,0.12),rgba(0,194,168,0.10)) !important;background-color:transparent !important;border:1px solid rgba(100,140,200,0.35) !important;color:var(--neo-text) !important;font-size:clamp(0.86em,2.2vw,1em) !important;font-weight:500;line-height:1.2;cursor:pointer;height:32px;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 6px 16px rgba(40,80,160,0.12) !important;transition:transform .12s ease,box-shadow .14s ease,filter .14s ease,border-color .14s ease;}#vbQuizOptStart:hover,#vbQuizOptCancel:hover{transform:translateY(-1px);box-shadow:0 1px 0 rgba(255,255,255,0.7) inset,0 9px 22px rgba(40,80,160,0.18) !important;border-color:rgba(110,170,255,0.55) !important;}#vbQuizOptStart:active,#vbQuizOptCancel:active{transform:scale(.98);}body.dark-mode #vbQuizOptStart,body.dark-mode #vbQuizOptCancel{background:#3a3a3c !important;color:#aaa !important;border:1px solid #555 !important;box-shadow:inset 0 0 0 1px #555 !important;}body.dark-mode #vbQuizOptStart:hover,body.dark-mode #vbQuizOptCancel:hover{background:#333 !important;}",document.head.appendChild(N);var D=1e3,_=0,A=[],V=null,P=null,q=!1,H=!1,R=!0,U={},j=0,F={};function Q(e,t){if(!(O(A=+e.word_id)&&document.getElementById("hideKnownWords")&&document.getElementById("hideKnownWords").checked)){var o=document.createElement("div");o.className="word-card";var n=document.createElement("div");n.className="word-card-header",n.style.cssText="display:flex;justify-content:space-between;align-items:center";var r=document.createElement("div");r.style.cssText="display:flex;align-items:baseline;gap:8px;flex-grow:1";var a=document.createElement("span");a.textContent=A+".",a.style.cssText="font-size:.9em;color:#888";var i=document.createElement("strong");i.textContent=e.word,i.className="word-spell",i.style.cssText="font-size:2em;line-height:1.2",r.appendChild(a),r.appendChild(i);var l=document.createElement("div");l.className="word-header-right",l.style.cssText="display:flex;gap:15px;align-items:baseline;";var c=document.createElement("input");c.type="checkbox",c.checked=O(A),c.onclick=function(){var t=VBData.knownIds.indexOf(A),n=!!c.checked;c.checked&&-1===t&&VBData.knownIds.push(A),c.checked||-1===t||VBData.knownIds.splice(t,1),VBStorage.setKnownIds(VBData.knownIds,(function(t){if(c.checked&&document.getElementById("hideKnownWords")&&document.getElementById("hideKnownWords").checked&&o.remove(),t&&(G("ì•„ëŠ” ë‹¨ì–´ ì €ì¥ ì‹¤íŒ¨ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("ì•„ëŠ” ë‹¨ì–´ ì €ì¥ ì‹¤íŒ¨:",t)),n){G("í‘œì œì–´ â€˜"+(e.word||"").trim()+"â€™: ì•„ëŠ” ë‹¨ì–´ë¡œ ì§€ì •í–ˆìŠµë‹ˆë‹¤.");var r=document.getElementById("hideKnownWords");r&&r.checked&&o.remove()}}))};var s=document.createElement("span");s.className="star-icon",s.onclick=function(){var e=VBData.reviewIds.indexOf(A);-1!==e?VBData.reviewIds.splice(e,1):VBData.reviewIds.push(A),VBStorage.setReviewIds(VBData.reviewIds,(function(e){e?(G("ë³µìŠµ ë‹¨ì–´ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"),console.error("ë³µìŠµ ì €ì¥ ì‹¤íŒ¨:",e)):V()}))},V(),l.appendChild(c),l.appendChild(s),n.appendChild(r),n.appendChild(l),o.appendChild(n);var p=document.createElement("div");p.style.cssText="display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;margin-top:.35em;";var u=document.createElement("div");u.textContent=e.pronounce,u.className="pronounce",u.style.cssText="font-size:1.5em;flex:1";var m=document.createElement("button");m.id="pBtn",m.textContent="ë°œìŒ",m.onclick=function(){I(e.word)};var b=document.createElement("button");b.className="dict-btn",b.textContent="ì‚¬ì „",b.id="dictBtn",b.onclick=function(){var t="https://en.dict.naver.com/#/search?query="+encodeURIComponent((e.word||"").trim());try{var o=window.open(t,"_blank");o&&!o.closed&&void 0!==o.closed||(location.href=t)}catch(e){location.href=t}},p.appendChild(u),p.appendChild(m),p.appendChild(b),o.appendChild(p);var f=document.createElement("div");f.style.cssText="font-size:1.3em;margin-top:.5em";var v=document.createElement("input");v.type="checkbox",v.className="meaning-toggle",v.setAttribute("data-wid",A);var g=U&&U.hasOwnProperty(A)?U[A]:R;v.checked=!!g,v.style.marginRight="6px";var h=document.createElement("span");if(h.textContent=e.word_list_mean,h.className="meaning-text",h.style.display=g?"inline":"none",v.addEventListener("change",(function(){var e=!!v.checked;h.style.display=e?"inline":"none",e===R?U.hasOwnProperty(A)&&delete U[A]:U[A]=e,d()})),h.onclick=function(){v.checked=!v.checked;var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),v.dispatchEvent(e)},f.appendChild(v),f.appendChild(h),o.appendChild(f),e.example&&e.example_trans)P(e.example,e.example_trans);else for(var y=1;y<=6;y++){var x=e["example"+y],w=e["example"+y+"_trans"];"string"==typeof x&&x.trim()&&"string"==typeof w&&w.trim()&&P(x,w)}var k,C,E={};for(k=1;k<=6;k++){var M=e["plus"+k+"_type"],B=e["plus"+k+"_word_eng"],T=e["plus"+k+"_word_kor"];M&&B&&(E[M]=E[M]||[],B.split(",").forEach((function(e){E[M].push({eng:e.trim(),kor:T})})))}if(Object.keys(E).length){var S=document.createElement("div");S.style.cssText="text-align:right;margin-top:.45em";var L=document.createElement("button");L.textContent="Plus +",S.appendChild(L),o.appendChild(S);var z=document.createElement("div");for(var N in z.style.cssText="font-size:.95em;overflow:hidden;max-height:0;opacity:0;margin-top:0;padding-top:0;border-top:0;",E){var D=document.createElement("div"),_=document.createElement("strong");_.textContent=N+": ",_.className="plus-label",D.appendChild(_),E[N].forEach((function(t,o){o&&D.appendChild(document.createTextNode(", "));var n=document.createElement("a");n.href="#",n.textContent=t.eng,n.className="vbPlusTerm",n.setAttribute("data-plus-term",t.eng),n.setAttribute("data-plus-wid",String(e.word_id)),n.onclick=function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation();var t=this.getAttribute("data-plus-term")||this.textContent||"",o=this.getAttribute("data-plus-wid")||"";window&&"function"==typeof window.vbShowPlusPopover?window.vbShowPlusPopover(this,t,o):G("Plus íŒì˜¤ë²„ ì´ˆê¸°í™”ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.")},D.appendChild(n),t.kor&&D.appendChild(document.createTextNode(" ("+t.kor+")"))})),z.appendChild(D)}z.classList.add("plus-box");var A=e.word_id;F[A]?(z.classList.add("open"),z.style.maxHeight=z.scrollHeight+"px",z.style.opacity="1",z.style.marginTop=".65em",z.style.paddingTop=".6em",z.style.borderTop="1px dashed #666",z.style.pointerEvents="auto",L.textContent="Plus -",C=z,requestAnimationFrame((function(){C&&C.classList.contains("open")&&(C.style.maxHeight=C.scrollHeight+"px")}))):(z.classList.remove("open"),z.style.maxHeight="0px",z.style.opacity="0",z.style.marginTop="0",z.style.paddingTop="0",z.style.borderTop="0",z.style.pointerEvents="none",L.textContent="Plus +"),L.onclick=function(){"function"==typeof vbHidePlusPopover&&vbHidePlusPopover(!0),z.classList.contains("open")?(z.classList.remove("open"),z.style.maxHeight="0px",z.style.opacity="0",z.style.marginTop="0",z.style.paddingTop="0",z.style.borderTop="0",z.style.pointerEvents="none",L.textContent="Plus +",F[A]=!1):(z.classList.add("open"),z.style.maxHeight=z.scrollHeight+"px",z.style.opacity="1",z.style.marginTop=".65em",z.style.paddingTop=".6em",z.style.borderTop="1px dashed #666",z.style.pointerEvents="auto",L.textContent="Plus -",F[A]=!0,function(e){requestAnimationFrame((function(){e&&e.classList.contains("open")&&(e.style.maxHeight=e.scrollHeight+"px")}))}(z)),d()},o.appendChild(z)}t.appendChild(o)}function V(){s.textContent=-1!==VBData.reviewIds.indexOf(A)?"â˜…":"â˜†",s.style.cssText="cursor:pointer;font-size:1.3em;color:"+("â˜…"===s.textContent?"#FFD54F":"#7a869a")}function P(e,t){var n=document.createElement("div");n.className="example-box",n.style.cssText="font-size:.95em;margin-top:.6em;margin-bottom:0.6em;white-space:normal;word-break:break-word;overflow-wrap:anywhere;display:"+(q?"block":"none");var r=document.createElement("strong");r.textContent="ì˜ˆë¬¸: ",n.appendChild(r),r.className="example-label",n.appendChild(document.createTextNode(e+" "));var a=document.createElement("button");a.textContent="ğŸ”Š ë“£ê¸°",a.id="soundBtn",a.style.cssText="padding:2px 6px;font-size:.8em;border:1px solid #aaa;border-radius:4px;background:#f0f0f0;cursor:pointer;height:auto;",a.onclick=function(e){return function(){I(e)}}(e),n.appendChild(a);var i=document.createElement("div");i.innerHTML='<strong class="trans-label">í•´ì„:</strong> '+t,i.style.marginTop="0.6em",n.appendChild(i),o.appendChild(n)}}function W(t){if(V&&A&&A.length){var o="";try{o="function"==typeof getCurrentDBKey?getCurrentDBKey()||"":window.dbname||k||""}catch(e){o=""}if(W._vbDbKey!==o){W._vbDbKey=o;try{if(F&&"object"==typeof F)for(var n in F)F.hasOwnProperty(n)&&delete F[n];else F={}}catch(e){try{F={}}catch(e){}}W._vbScale=1}var r=document.getElementById("vbTopPad"),a=document.getElementById("vbInner"),i=document.getElementById("vbBottomPad");if(r&&a&&i){if(W._lock)return W._pending=!0,void(W._pendingForce=W._pendingForce||!!t);W._lock=!0;try{var l=A.length,c=e.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s=c,p=0;V&&"number"==typeof V.offsetTop&&(p=V.offsetTop);var u=c-p;u<0&&(u=0);try{document.documentElement&&document.documentElement.style&&(document.documentElement.style.overflowAnchor="none"),document.body&&document.body.style&&(document.body.style.overflowAnchor="none"),r&&r.style&&(r.style.overflowAnchor="none"),a&&a.style&&(a.style.overflowAnchor="none"),i&&i.style&&(i.style.overflowAnchor="none")}catch(e){}if(!j||t)if(t||!f()){a.innerHTML="";var m=document.createDocumentFragment();Q(A[0],m),a.appendChild(m),j=a.firstChild&&a.firstChild.offsetHeight?a.firstChild.offsetHeight+12:80}else j||(j=80);var b=W._vbScale||1;try{var g=8e6,h=l*j,y=1;h>g&&(y=Math.ceil(h/g))<1&&(y=1),y!==b&&(W._vbScale=y,b=y,t=!0)}catch(e){W._vbScale=1,b=1}var x=D;x>l&&(x=l);var w=Math.max(30,Math.floor(x/4)),C=0;j>0&&(C=Math.floor(u*b/j));var E=Math.floor(x/5);E<8&&(E=8);var M=_,B=!!t;if(B||("number"!=typeof _||_<0||C<_+E||C>_+x-E)&&(B=!0),!B)return void d();(M=C-w)<0&&(M=0);var T=l-x;T<0&&(T=0),M>T&&(M=T),_=M;var S=M+x;S>l&&(S=l);var L=Math.floor(_*j/b),z=Math.floor((l-S)*j/b),I=parseInt(r.style.height,10),O=parseInt(i.style.height,10);isNaN(I)&&(I=0),isNaN(O)&&(O=0),I!==L&&(r.style.height=L+"px"),O!==z&&(i.style.height=z+"px"),a.innerHTML="";var N,P=document.createDocumentFragment();for(N=_;N<S;N++)Q(A[N],P);a.appendChild(P);try{if(a.querySelectorAll){var q,H=a.querySelectorAll(".plus-box.open");if(H&&H.length)for(q=0;q<H.length;q++)H[q].style.maxHeight="9999px"}}catch(e){}if(d(),v(32),!t&&!f()){var R=(e.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)-s,U=j;if(b>1&&(U=j/b),(Math.abs(L-I)>.8*U||Math.abs(z-O)>.8*U)&&Math.abs(R)>6){try{document.documentElement.scrollTop=s}catch(e){}try{document.body.scrollTop=s}catch(e){}v(96)}}}catch(e){}finally{if(W._lock=!1,W._pending){var K=W._pendingForce;W._pending=!1,W._pendingForce=!1,setTimeout((function(){W(!!K)}),0)}}}}}function K(){u&&m()<u||(P&&cancelAnimationFrame(P),P=requestAnimationFrame((function(){u&&m()<u||W(!1)})))}function G(e){var t=document.getElementById("wmToast");t||((t=document.createElement("div")).id="wmToast",t.style.cssText="position:fixed;left:50%;top:16px;top:calc(env(safe-area-inset-top) + 16px);transform:translate3d(-50%,-18px,0) scale(.85);z-index:99999;opacity:0;pointer-events:none;",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),document.body.appendChild(t)),t.innerHTML=e,clearTimeout(G._hideT),clearTimeout(G._cleanupT),t.className="",t.offsetWidth,t.style.opacity="1",t.className="vb-in",G._hideT=setTimeout((function(){t.className="vb-out",G._cleanupT=setTimeout((function(){t.style.opacity="0",t.className=""}),450)}),1700)}function Y(e,t){var o=document.createElement("button");return o.textContent=e,o.onclick=t,o.className="main-button",o.style.height="32px",o.style.lineHeight="1.2",o.style.padding="0 4px",o.style.fontSize="1em",o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",setTimeout((function(){var e=o.clientWidth-6,t=parseInt(window.getComputedStyle(o).fontSize,10);for(o.style.fontSize="1em";o.scrollWidth>e&&t>8;)t--,o.style.fontSize=t+"px"}),0),o}w.length;function J(){q=!(!document.getElementById("toggleExamples")||!document.getElementById("toggleExamples").checked),H=!(!document.getElementById("hideAllMeanings")||!document.getElementById("hideAllMeanings").checked),R=!H}function X(){var e=window.sIdx||1,n=window.eIdx||w.length,r=document.createElement("div");r.id="searchUI",r.style.cssText="max-width:900px;margin:12px auto;padding:14px;display:flex;flex-direction:column;align-items:center;gap:14px";var a=document.createElement("div");a.id="currentWordbookTitle",a.innerHTML='<span class="title-bar"></span><span class="title-icon"><span>ğŸ“š</span></span><span class="title-labels"><span class="label-title">'+document.title+"</span></span>";var i=document.createElement("button");i.type="button",i.id="vbLicenseBtn",i.setAttribute("aria-label","About"),i.textContent="â“˜",i.title="About",i.onclick=ie,a.appendChild(i),r.appendChild(a);var l=document.createElement("div");l.className="ui-row",l.style.cssText="display:flex;flex-wrap:wrap;gap:8px;justify-content:center";var c=document.createElement("input");c.type="number",c.setAttribute("inputmode","numeric"),c.min=1,c.value=e,c.style.textAlign="center",c.maxLength=5,c.pattern="[0-9]*",c.addEventListener("input",(function(){this.value=this.value.replace(/[^0-9]/g,"")}));var s=document.createElement("input");function p(){if(e=+c.value,n=+s.value,!w||!Array.isArray(w)||0===w.length)return G(t.LOAD_JSON_FIRST),!1;var o=w.length;return c.value.trim()&&s.value.trim()?isNaN(e)||isNaN(n)?(G("ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš”."),!1):e<1||e>o||n<1||n>o?(G("1ì—ì„œ "+o+" ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”."),!1):!(e>n)||(G("ì‹œì‘ ë²ˆí˜¸ëŠ” ë ë²ˆí˜¸ë³´ë‹¤ í´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."),!1):(G("ì‹œì‘ ë²ˆí˜¸ì™€ ë ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”."),!1)}function u(){h(),V&&V.remove(),_=0,j=0,(V=document.createElement("div")).id="wordListContainer",V.style.cssText="max-width:800px;margin:0 auto;padding:12px 10px;font-family:system-ui,sans-serif";var e=document.createElement("div");e.id="vbTopPad",e.style.height="0px";var t=document.createElement("div");t.id="vbInner";var o=document.createElement("div");o.id="vbBottomPad",o.style.height="0px",V.appendChild(e),V.appendChild(t),V.appendChild(o),document.body.appendChild(V),W(!0),$(),y(),v(48),requestAnimationFrame(K)}function m(){if(w&&Array.isArray(w)&&0!==w.length){if(e=+c.value,n=+s.value,window.sIdx=e,window.eIdx=n,p()){!1,J(),A=w.slice(e-1,n);var o=document.getElementById("hideKnownWords");o&&o.checked&&(A=A.filter((function(e){return-1===VBData.knownIds.indexOf(+e.word_id)}))),u()}}else G(t.LOAD_JSON_FIRST)}function b(e,t,o,n,r,a){var i=[],d=new Date;if(d.setHours(0,0,0,0),o.starOnly){for(var l=0;l<r.length;l++){if(!((u=+r[l])<e||u>t))if(!o.hideKnown||!a||-1===a.indexOf(u))(f=window.wordMap[u])&&i.push(f)}return i}var c=Object.keys(n).map(Number),s={};(r||[]).forEach((function(e){s[e]=!0})),c.forEach((function(e){s[e]=!0}));var p=Object.keys(s).map(Number);for(l=0;l<p.length;l++){var u;if(!((u=p[l])<e||u>t)&&(!o.hideKnown||!a||-1===a.indexOf(u))){var m=n[u.toString()];if(m&&(!o.level||m.level===o.level)){if(o.todayOnly){var b=new Date(m.nextReviewAt);if(b.setHours(0,0,0,0),b.getTime()!==d.getTime())continue}var f;(f=window.wordMap[u])&&i.push(f)}}}return i}function f(e,t,o){var n=window.sIdx,r=window.eIdx,a=function(e,t,o){if(!e)return null;var n=null;return Object.keys(e).forEach((function(r){var a=Number(r);if("number"!=typeof t||"number"!=typeof o||!(a<t||a>o)){var i=e[r];if("object"==typeof i&&i.lastReviewedAt){var d=new Date(i.lastReviewedAt);(!n||d>n)&&(n=d)}}})),n?n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2)+" "+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2):null}(e,n,r),i=a||"ê¸°ë¡ ì—†ìŒ",d=n,l=r,c=document.getElementById("hideKnownWords")&&document.getElementById("hideKnownWords").checked,s=[b(d,l,{starOnly:!0,hideKnown:c},e,t,o).length,b(d,l,{level:1,todayOnly:!1,hideKnown:c},e,t,o).length,b(d,l,{level:2,todayOnly:!1,hideKnown:c},e,t,o).length,b(d,l,{level:3,todayOnly:!1,hideKnown:c},e,t,o).length,b(d,l,{level:4,todayOnly:!1,hideKnown:c},e,t,o).length,b(d,l,{level:null,todayOnly:!0,hideKnown:c},e,t,o).length];if(s.every((function(e){return 0===e})))G("ë³µìŠµí•  ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.");else{var p=document.createElement("div");if(p.id="reviewModal",p.innerHTML='<div class="vbOverlay" style="z-index:99998;"><div class="modalBox" style="background:#fff;min-width:290px;padding:0.8em;border-radius:13px;box-shadow:0 4px 24px rgba(0,0,0,0.19);font-family:\'Segoe UI\',\'Apple SD Gothic Neo\',\'Noto Sans KR\',sans-serif;position:relative;"><h3 style="margin-top:0;font-size:1.15em;font-weight:700;color:#1a2233;margin-bottom:0.2em">ë³µìŠµ ë‹¨ì–´ ì¡°ê±´ ì„ íƒ</h3><form id="reviewOptionForm" style="margin:0 0 12px 0;font-size:1.08em;">'+[{val:"star",txt:"ë³„í‘œ(â­)"},{val:"lv1",txt:"ë ˆë²¨ 1"},{val:"lv2",txt:"ë ˆë²¨ 2"},{val:"lv3",txt:"ë ˆë²¨ 3"},{val:"lv4",txt:"ë ˆë²¨ 4"},{val:"today",txt:"ì˜¤ëŠ˜ ë³µìŠµ ëŒ€ìƒë§Œ"}].map((function(e,t){var o=0===s[t]?"disabled":"",n=0===t&&s[0]>0?"checked":"";return'<label style="display:flex;align-items:center;margin-bottom:0.3em;gap:8px;opacity:'+(o?"0.5":"1")+';"><input type="radio" name="rOpt" value="'+e.val+'" style="accent-color:#3089f8;" '+n+" "+o+"> "+e.txt+' <span style="color:#999;font-size:0.96em;margin-left:2px;">('+s[t]+"ê°œ)</span></label>"})).join("")+'</form><label style="display:flex;align-items:center;gap:8px;margin:0.8em 0 0.3em 0;font-size:0.99em;"><input type="checkbox" id="reviewShuffleOpt">ë³µìŠµ ë‹¨ì–´ ì…”í”Œ</label><div style="margin-top:0.3em;font-size:0.9em;"><div style="color:#2783e5;font-size:0.99em;font-weight:600;">ìµœê·¼ í•™ìŠµ ì¼ì‹œ: '+i+'</div><div style="color:#2783e5;font-size:0.99em;font-weight:600;">( ë§ˆì§€ë§‰ í€´ì¦ˆ í’€ì´ ì‹œê°„ ê¸°ì¤€ )</div><button id="reviewHelpToggle" style="background:none;border:none;color:#3089f8;cursor:pointer;padding:8px;font-size:0.9em;">ë„ì›€ë§ ë³´ê¸° â–¼</button><div id="reviewHelpText" style="display:none;color:#2783e5;margin-top:0.2em;line-height:1.4;font-size:.9em;line-height:1.35;letter-spacing:.01em;font-weight:600;font-weight:500">â€¢ <strong>ë³„í‘œ(â­)</strong>: ë²”ìœ„ ë‚´ì—ì„œ ì§ì ‘ ë³„í‘œí•œ ë‹¨ì–´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.<br>â€¢ <strong>ë ˆë²¨ 1~4</strong>: ê° ë ˆë²¨ë³„ ë³µìŠµ ë‹¨ì–´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.<br>â€¢ <strong>ì˜¤ëŠ˜ ë³µìŠµ ëŒ€ìƒ</strong>: ì˜¤ëŠ˜ì´ ë³µìŠµì¼ì¸ ë‹¨ì–´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.<br><br><span style="font-size:0.9em;color:#2783e5;font-weight:500;">â€» ê°„ê²© ë°˜ë³µ ì‹œìŠ¤í…œ(SRS)ì´ë€?<br>ì‚¬ìš©ìê°€ ë‹¨ì–´ í€´ì¦ˆì—ì„œ ì •ë‹µÂ·ì˜¤ë‹µì„ ì„ íƒí•œ ê¸°ë¡ì„ ë°”íƒ•ìœ¼ë¡œ,<br>ë³µìŠµ ê°„ê²©ì„ ìë™ìœ¼ë¡œ ê³„ì‚°í•´ ì£¼ëŠ” í•™ìŠµ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.<br><br>- ì •ë‹µ ì‹œ: ë ˆë²¨ì´ 1ì”© ìƒìŠ¹í•˜ë©°, ë‹¤ìŒ ë³µìŠµì¼ì´ ì—°ì¥ë©ë‹ˆë‹¤.<br>- ì˜¤ë‹µ ì‹œ: ë ˆë²¨ì´ 1ë¡œ ì´ˆê¸°í™”ë˜ë©°, ë³µìŠµì¼ì´ ë‹¤ì‹œ ì„¤ì •ë©ë‹ˆë‹¤.<br><br>SRS ë³µìŠµ ê°„ê²©:<br>- ë ˆë²¨ 1: 1ì¼, ë ˆë²¨ 2: 3ì¼, ë ˆë²¨ 3: 7ì¼, ë ˆë²¨ 4: 14ì¼ í›„ ë³µìŠµ<br>â€» ë³µìŠµì¼ì€ í€´ì¦ˆë¥¼ í‘¼ ì‹œì (ë‚ ì§œì™€ ì‹œê°„)ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.</span></div></div><div style="display:flex;gap:16px;justify-content:flex-end;margin-top:0.2em;"><button id="reviewModalOk" class="btn-review ok">í™•ì¸</button><button id="reviewModalCancel" class="btn-review cancel">ì·¨ì†Œ</button></div></div></div>',document.body.classList.contains("dark-mode")){var m=p.querySelector(".modalBox");m.style.background="#222831",m.style.color="#e7ecfa",m.querySelector("h3").style.color="#f1f6fc",Array.prototype.forEach.call(m.querySelectorAll("label"),(function(e){var t=e.style.opacity&&+e.style.opacity<1;e.style.color=t?"#657286":"#e7ecfa";var o=e.querySelector('input[type="radio"]');o&&(o.style.accentColor="#71b6f7")})),Array.prototype.forEach.call(m.querySelectorAll("label span"),(function(e){var t=e.parentElement.style.opacity&&+e.parentElement.style.opacity<1;e.style.color=t?"#444b5b":"#85b7f6",e.style.fontWeight="bold"}))}document.body.appendChild(p),document.getElementById("reviewHelpToggle").onclick=function(){var e=document.getElementById("reviewHelpText"),t="block"===e.style.display;e.style.display=t?"none":"block",this.textContent=t?"ë„ì›€ë§ ë³´ê¸° â–¼":"ë„ì›€ë§ ë‹«ê¸° â–²"},p.querySelector("#reviewModalCancel").onclick=function(){document.body.removeChild(p)},p.querySelector("#reviewModalOk").onclick=function(){var n=p.querySelector("input[type='radio'][name='rOpt']:checked");if(n){var r=p.querySelector("#reviewShuffleOpt").checked,a={};if("star"===n.value)a={starOnly:!0,hideKnown:c};else if("lv1"===n.value)a={level:1,todayOnly:!1,hideKnown:c};else if("lv2"===n.value)a={level:2,todayOnly:!1,hideKnown:c};else if("lv3"===n.value)a={level:3,todayOnly:!1,hideKnown:c};else if("lv4"===n.value)a={level:4,todayOnly:!1,hideKnown:c};else{if("today"!==n.value)return;a={level:null,todayOnly:!0,hideKnown:c}}var i=b(d,l,a,e,t,o);r?S(i):i.sort((function(e,t){return e.word_id-t.word_id})),document.body.removeChild(p),0!==i.length?(!0,A=i,_=0,V&&V.remove(),(V=document.createElement("div")).id="wordListContainer",V.style.cssText="max-width:800px;margin:0 auto;padding:12px 10px;font-family:system-ui,sans-serif",document.body.appendChild(V),W(),$(),u(),G("ë³µìŠµ ë‹¨ì–´ "+i.length+"ê°œë¥¼ í‘œì‹œí•©ë‹ˆë‹¤."),window.addEventListener("scroll",K,{passive:!0})):G("ë³µìŠµ ëŒ€ìƒì´ ì—†ìŠµë‹ˆë‹¤. 'ë³„í‘œ(â­)' ì˜µì…˜ì„ ì„ íƒí•˜ê±°ë‚˜ ë²”ìœ„ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.")}else G("ë³µìŠµ ì¡°ê±´ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.")}}}function g(e){var o=document.getElementById("vbExportOverlay");o&&o.parentNode&&o.parentNode.removeChild(o);var n=document.getElementById("vbExportModalStyle");if(!n){(n=document.createElement("style")).id="vbExportModalStyle",n.type="text/css";n.appendChild(document.createTextNode("#vbExportOverlay{z-index:9999;}#vbExportModal{width:min(560px,92vw);max-height:85vh;overflow:hidden;border-radius:16px;border:1px solid rgba(120,140,180,0.22);background:rgba(255,255,255,0.92);box-shadow:0 18px 44px rgba(0,0,0,0.25);display:flex;flex-direction:column;}body.dark-mode #vbExportModal{background:rgba(24,30,38,0.92);border-color:rgba(120,140,170,0.32);box-shadow:0 20px 54px rgba(0,0,0,0.55);}#vbExportHead{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 10px 14px;border-bottom:1px solid rgba(120,140,180,0.18);}body.dark-mode #vbExportHead{border-bottom-color:rgba(120,140,170,0.22);}#vbExportTitle{font-weight:900;font-size:1.05em;letter-spacing:.01em;color:#0f172a;}body.dark-mode #vbExportTitle{color:#e6eef9;}#vbExportBody{padding:12px 14px 14px 14px;overflow:auto;}#vbExportHint{margin:0 0 10px 0;color:#5b677a;font-size:.95em;line-height:1.35;white-space:pre-line;}body.dark-mode #vbExportHint{color:#98a6bd;}#vbExportTA{width:100%;height:220px;min-height:180px;max-height:46vh;resize:none;font-size:16px;line-height:1.35;padding:12px;box-sizing:border-box;border-radius:14px;border:1px solid rgba(120,150,200,0.45);background:rgba(255,255,255,0.72);box-shadow:0 1px 0 rgba(255,255,255,0.8) inset,0 6px 14px rgba(70,110,170,0.08);color:#0f172a;outline:none;}body.dark-mode #vbExportTA{background:rgba(28,34,44,0.72);border-color:rgba(120,150,200,0.25);box-shadow:0 1px 0 rgba(255,255,255,0.04) inset,0 6px 14px rgba(0,0,0,0.35);color:#e6eef9;}#vbExportTA:focus{box-shadow:0 0 0 3px rgba(47,134,246,.25),0 4px 14px rgba(47,134,246,.22);}#vbExportActions{display:flex;flex-wrap:wrap;gap:10px;justify-content:flex-end;padding:12px 14px;border-top:1px solid rgba(120,140,180,0.18);}body.dark-mode #vbExportActions{border-top-color:rgba(120,140,170,0.22);}#vbExportActions button{padding:6px 14px;margin:0;border-radius:12px;background-image:linear-gradient(135deg,rgba(47,134,246,0.12),rgba(0,194,168,0.10));background-color:transparent;border:1px solid rgba(100,140,200,0.35);color:#0f172a;font-size:1em;font-weight:600;line-height:1.2;cursor:pointer;height:36px;box-shadow:0 1px 0 rgba(255,255,255,0.6) inset,0 6px 16px rgba(40,80,160,0.12);transition:transform .12s ease,box-shadow .14s ease,filter .14s ease,border-color .14s ease;}#vbExportActions button:active{transform:scale(.98);}body.dark-mode #vbExportActions button{background:#3a3a3c;color:#aaa;border:1px solid #555;box-shadow:inset 0 0 0 1px #555;}@media (max-height:520px){#vbExportOverlay{align-items:flex-start;padding-top:12px;}#vbExportModal{max-height:92vh;}}")),document.head.appendChild(n)}var r=document.createElement("div");r.id="vbExportOverlay",r.className="vbOverlay",r.innerHTML='<div id="vbExportModal"><div id="vbExportHead"><div id="vbExportTitle">ë‚´ë³´ë‚´ê¸°</div></div><div id="vbExportBody"><div id="vbExportHint">í•™ìŠµ ë°ì´í„°ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤.\ní…ìŠ¤íŠ¸ ì˜ì—­ í„°ì¹˜ ë° ë³µì‚¬ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë³µì‚¬ë¥¼ ì‹œë„í•©ë‹ˆë‹¤.\nì‹¤íŒ¨í•˜ë©´ íŒŒì¼ ë‚´ë³´ë‚´ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div><textarea id="vbExportTA"></textarea></div><div id="vbExportActions"><button id="vbExportFileBtn" type="button">íŒŒì¼ ë‚´ë³´ë‚´ê¸°</button><button id="vbExportCopyBtn" type="button">ë³µì‚¬</button><button id="vbExportCloseBtn" type="button">ë‹«ê¸°</button></div></div>',document.body.appendChild(r);var a=document.getElementById("vbExportTA");a.value=null==e?"":String(e),a.setAttribute("autocapitalize","off"),a.setAttribute("autocorrect","off"),a.setAttribute("spellcheck","false"),a.setAttribute("inputmode","text");try{a.blur()}catch(e){}function i(){var e=document.getElementById("vbExportOverlay");e&&e.parentNode&&e.parentNode.removeChild(e)}function d(){var e=!1;function o(){try{a.focus(),a.select(),e=document.execCommand("copy")}catch(t){e=!1}if(e){G(t.TEXT_COPIED);try{a.blur()}catch(e){}}else G("ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì„ íƒí•´ ë³µì‚¬í•˜ê±°ë‚˜ â€˜íŒŒì¼ ë‚´ë³´ë‚´ê¸°â€™ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.")}navigator&&navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(a.value).then((function(){G(t.TEXT_COPIED);try{a.blur()}catch(e){}}),(function(){o()})):o()}function l(){var e=a&&null!=a.value?String(a.value):"";if(e){var t=function(){var e="VocabularyBox",t="";try{t=window.dbname||""}catch(e){t=""}if(!t)try{t=void 0!==k?k:""}catch(e){t=""}t=function(e){if(!(e=null==e?"":String(e)))return"";e.length>40&&(e=e.substring(0,40));return e=(e=(e=e.replace(/[^a-zA-Z0-9\-_]+/g,"_")).replace(/_+/g,"_")).replace(/^_+|_+$/g,"")}(t);var o=(n=new Date,n.getFullYear()+s(n.getMonth()+1)+s(n.getDate())+"-"+s(n.getHours())+s(n.getMinutes())+s(n.getSeconds()));var n;return e+(t?"-"+t:"")+"-"+o+".txt"}(),o=null;try{o=new Blob([e],{type:"application/json;charset=utf-8"})}catch(e){o=null}if(o&&navigator&&navigator.share){var n=null;try{n=new File([o],t,{type:"application/json"})}catch(e){n=null}if(n){var r=!0;if(navigator.canShare)try{r=navigator.canShare({files:[n]})}catch(e){r=!0}if(r)return void navigator.share({files:[n]}).then((function(){}),(function(e){e&&"AbortError"===e.name||c(o,t)}))}}if(o)c(o,t);else try{var i="data:application/json;charset=utf-8,"+encodeURIComponent(e);window.open(i,"_blank")||(location.href=i),G("ë‚´ë³´ë‚´ê¸° ë°ì´í„°ë¥¼ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ì—ˆìŠµë‹ˆë‹¤.")}catch(e){G("íŒŒì¼ ë‚´ë³´ë‚´ê¸°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” í™˜ê²½ì…ë‹ˆë‹¤.")}}else G("ë‚´ë³´ë‚¼ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.")}function c(e,t){var o=window.URL||window.webkitURL;if(o&&o.createObjectURL){var n=o.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.rel="noopener",r.style.display="none",document.body.appendChild(r);var a=!1;try{r.click(),a=!0}catch(e){a=!1}try{document.body.removeChild(r)}catch(e){}if(!a)try{window.open(n,"_blank")||(location.href=n)}catch(e){}setTimeout((function(){try{o.revokeObjectURL(n)}catch(e){}}),2500)}else G("íŒŒì¼ ë‚´ë³´ë‚´ê¸°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” í™˜ê²½ì…ë‹ˆë‹¤.")}function s(e){return 1===(e=String(e)).length?"0"+e:e}document.getElementById("vbExportCloseBtn").onclick=i,document.getElementById("vbExportCopyBtn").onclick=function(e){d(),e&&e.preventDefault&&e.preventDefault()},document.getElementById("vbExportFileBtn").onclick=function(e){l(),e&&e.preventDefault&&e.preventDefault()},a.onclick=function(e){d(),e&&e.preventDefault&&e.preventDefault()},r.onclick=function(e){e.target===r&&i()}}s.type="number",s.setAttribute("inputmode","numeric"),s.min=1,s.value=n,s.style.textAlign="center",s.maxLength=5,s.pattern="[0-9]*",s.addEventListener("input",(function(){this.value=this.value.replace(/[^0-9]/g,"")})),c.onkeyup=s.onkeyup=function(e){"Enter"===e.key&&m()},document.addEventListener("DOMContentLoaded",(function(){C((function(){setTimeout((function(){w.length>0&&(document.querySelectorAll("#searchUI button").length>0&&ne("ë³´ê¸°"))}),0)}))})),l.appendChild(c),l.appendChild(s),l.appendChild(Y("ğŸ“– ë³´ê¸°",m)),l.appendChild(Y("ğŸ”€ ì…”í”Œ",(function(){if(w&&Array.isArray(w)&&0!==w.length){if(p()){J();var e=document.getElementById("hideKnownWords");e&&e.checked&&(A=A.filter((function(e){return-1===VBData.knownIds.indexOf(+e.word_id)}))),0!==A.length?(S(A),u()):G("ì…”í”Œí•  ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.")}}else G(t.LOAD_JSON_FIRST)}))),l.appendChild(Y("ğŸ” ë³µìŠµ",(function(){w&&Array.isArray(w)&&0!==w.length?p()&&VBStorage.setSrsMeta(VBData.srsMeta,(function(){VBStorage.getReviewIds((function(e,t){VBStorage.getKnownIds((function(e,o){f(VBData.srsMeta,M(t||[]),M(o||[]))}))}))})):G(t.LOAD_JSON_FIRST)}))),r.appendChild(l);var x=null,E=null,B="",L="",z=0,O=!1;function N(e){x&&(L="",B="",z&&(clearTimeout(z),z=0),x.classList.remove("open"),e?x.style.display="none":z=setTimeout((function(){x&&(x.style.display="none")}),140))}window.vbShowPlusPopover||(window.vbShowPlusPopover=function(e,o,n){if(function(){if(!x){(x=document.createElement("div")).id="vbPlusPopover",x.style.display="none",(E=document.createElement("div")).className="vbPopTitle",x.appendChild(E);var e=a("ğŸ”Š ë°œìŒ","vbPlusPopSpeak"),o=a("ğŸ“‹ ë³µì‚¬","vbPlusPopCopy"),n=a("ğŸ“– ì‚¬ì „","vbPlusPopDict");if(x.appendChild(e),x.appendChild(o),x.appendChild(n),document.body.appendChild(x),e.onclick=function(e){if(e.preventDefault(),B){try{I(B)}catch(e){}N(!1)}},o.onclick=function(e){if(e.preventDefault(),B){var o=B;try{var n=document.createElement("textarea");n.value=o,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),N(!0),G(t.TEXT_COPIED+"<br>â†’ "+o)}catch(e){N(!0)}}},n.onclick=function(e){if(e.preventDefault(),B){var t=B;N(!0);var o=encodeURIComponent(String(t||"").trim());if(o){var n="https://en.dict.naver.com/#/search?query="+o;try{var r=window.open(n,"_blank");r&&!r.closed&&void 0!==r.closed||(location.href=n)}catch(e){location.href=n}}}},!O){O=!0;var r="onpointerdown"in window?"pointerdown":"touchstart";document.addEventListener(r,(function(e){if(x&&"none"!==x.style.display){var t=e.target;(function(e,t){for(var o=t;o;){if(o===e)return!0;o=o.parentNode}return!1})(x,t)||function(e,t){for(var o=e;o;){if(o.classList&&o.classList.contains(t))return o;o=o.parentNode}return null}(t,"vbPlusTerm")||N(!0)}}),!0),window.addEventListener("scroll",(function(){x&&"none"!==x.style.display&&N(!0)}),{passive:!0}),window.addEventListener("resize",(function(){x&&"none"!==x.style.display&&N(!0)}))}}function a(e,t){var o=document.createElement("button");return o.type="button",o.className="vbPopItem",o.id=t,o.textContent=e,o}}(),x){var r=null==o?"":String(o),a=String(n||"")+"::"+r;if("none"===x.style.display||L!==a){z&&(clearTimeout(z),z=0),L=a,B=r,E.textContent=r,x.style.display="block",x.classList.remove("open");var i=e.getBoundingClientRect();x.style.left="0px",x.style.top="0px",x.style.visibility="hidden",x.classList.add("open");var d=x.offsetWidth||180,l=x.offsetHeight||140;x.classList.remove("open"),x.style.visibility="";var c=Math.round(i.left),s=Math.round(i.bottom+8);c+d>window.innerWidth-8&&(c=window.innerWidth-d-8),c<8&&(c=8),s+l>window.innerHeight-8&&(s=Math.round(i.top-l-8)),s<8&&(s=8),x.style.left=c+"px",x.style.top=s+"px",setTimeout((function(){x&&x.classList.add("open")}),0)}else N(!1)}}),window.vbHidePlusPopover||(window.vbHidePlusPopover=N);var D=document.createElement("div");function P(e){var t=[];if(!e)return t;if(Array.isArray(e)){for(var o=0;o<e.length;o++){var n=+e[o];isNaN(n)||-1!==t.indexOf(n)||t.push(n)}return t}if("object"==typeof e){for(var r=Object.keys(e),a=0;a<r.length;a++){var i=+r[a];isNaN(i)||-1!==t.indexOf(i)||t.push(i)}return t}return t}D.style.cssText="display:flex;flex-nowrap:wrap;gap:1px;justify-content:center",D.appendChild(Y("ğŸ“‚ ì—´ê¸°",(function(){var e=document.createElement("input");e.type="file",e.accept=".json",e.style.display="none",e.addEventListener("change",(function(e){var t=e.target.files[0];if(t){var o=new FileReader;o.onload=function(e){try{var t=JSON.parse(e.target.result);if(!t.id)return void G("ë‹¨ì–´ì¥ JSON íŒŒì¼ì— ID ê°’ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");w=t.words.map((function(e){return e.word_id=+Number(e.word_id),e})),window.wordsData=w,window.dbname=t.id,k=t.id,window.wordMap=function(){var e,t={};for(e=0;e<w.length;e++)t[Number(w[e].word_id)]=w[e];return t}(),window.sIdx=1,window.eIdx=w.length;var o=document.getElementById("searchUI");o&&o.remove();var n=document.getElementById("wordListContainer");n&&n.remove(),t.review&&(VBData.reviewIds=M(t.review),VBStorage.setReviewIds(VBData.reviewIds)),t.known&&(VBData.knownIds=M(t.known),VBStorage.setKnownIds(VBData.knownIds)),t.srsMeta&&(VBData.srsMeta=t.srsMeta,VBStorage.setSrsMeta(VBData.srsMeta)),t.dailyLog&&"object"==typeof t.dailyLog&&(VBData.dailyLog=_vbNormalizeDailyLog(t.dailyLog||{}),VBStorage.setDailyLog(VBData.dailyLog)),C((function(){T(30,(function(e){X(),re(),["goMemo","goShuffle","goReview","goStats"].forEach((function(e){var t=document.getElementById(e);t&&(t.style.opacity="0",t.style.pointerEvents="none",t.style.transform="translateY(20px) scale(0.7)")})),function(){var e,t=document.getElementById("menuBtnVB");t&&t.parentNode.removeChild(t);if((e=document.createElement("button")).id="menuBtnVB",document.getElementById("menuBtnVB"))return;(e=document.createElement("button")).id="menuBtnVB",e.title="ë©”ë‰´ ì—´ê¸°",e.style.position="fixed",e.style.right="15px",e.style.bottom="120px",e.style.width="40px",e.style.height="40px",e.style.fontSize="19px",e.style.background="#222",e.style.color="#fff",e.style.border="none",e.style.borderRadius="12px",e.style.boxShadow="0 2px 6px rgba(0,0,0,.22)",e.style.cursor="pointer",e.style.zIndex=1e3,e.style.transition="background 0.14s",e.style.background="rgba(0,0,0,0.35)";var o=document.createElement("span");o.id="menuIcoVB",o.style.display="inline-block",o.style.width="22px",o.style.height="22px",o.style.position="relative",o.style.verticalAlign="middle";var n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");n.className="menu-bar1",r.className="menu-bar2",a.className="menu-bar3",d(n,2),d(r,9.5),d(a,17),o.appendChild(n),o.appendChild(r),o.appendChild(a),e.appendChild(o);var i=!1;function d(e,t){e.style.position="absolute",e.style.left="0",e.style.width="22px",e.style.height="3px",e.style.background="#fff",e.style.borderRadius="2px",e.style.transition="all 0.33s cubic-bezier(.55,-0.1,.44,1.24)",e.style.top=t+"px"}e.onclick=function(){(i=!i)?(n.style.top="10px",n.style.transform="rotate(45deg)",r.style.opacity="0",a.style.top="10px",a.style.transform="rotate(-45deg)",e.style.background="rgba(0,0,0,0.48)",ae(!0)):(n.style.top="2px",n.style.transform="none",r.style.opacity="1",a.style.top="17px",a.style.transform="none",e.style.background="rgba(0,0,0,0.35)",ae(!1))},document.body.appendChild(e)}(),setTimeout((function(){ne("ë³´ê¸°")}),0)}))})),G('"'+t.title+'" ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ! ì´ '+w.length+"ê°œ ë‹¨ì–´"),document.title=t.title}catch(e){G("ë‹¨ì–´ì¥ JSON íŒŒì‹± ì˜¤ë¥˜:<br>"+e.message)}},o.readAsText(t)}})),document.body.appendChild(e),e.click(),setTimeout((function(){document.body.removeChild(e)}),1e3)}))),D.appendChild(Y("â¬†ï¸ ë‚´ë³´ë‚´ê¸°",(function(){if(w&&Array.isArray(w)&&0!==w.length){var e={review:M(VBData.reviewIds).sort((function(e,t){return e-t})),known:M(VBData.knownIds).sort((function(e,t){return e-t})),srsMeta:{},dailyLog:{}};VBStorage.getSrsMeta((function(t,o){if(t)console.error("srsMeta ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:",t),e.srsMeta={};else{o=o||{};for(var n=Object.keys(o).sort((function(e,t){return+e-+t})),r=0;r<n.length;r++)e.srsMeta[n[r]]=o[n[r]]}VBStorage.getDailyLog((function(t,o){t&&(console.error("dailyLog ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:",t),o={}),o=o||{};for(var n={},r=Object.keys(o).sort(),a=0;a<r.length;a++){var i=r[a],d=P(o[i]);d.sort((function(e,t){return e-t})),n[i]=d}e.dailyLog=n;var l=JSON.stringify({review:e.review,known:e.known,srsMeta:e.srsMeta,dailyLog:e.dailyLog});Object.keys(e.dailyLog||{}).length;g(l)}))}))}else G(t.LOAD_JSON_FIRST)}))),D.appendChild(Y("â¬‡ï¸ ê°€ì ¸ì˜¤ê¸°",(function(){if(w&&Array.isArray(w)&&0!==w.length){var e=document.getElementById("importModal");e&&e.parentNode&&e.parentNode.removeChild(e);var o=document.getElementById("vbImportModalStyle");o&&o.parentNode&&o.parentNode.removeChild(o);var n=document.createElement("style");n.id="vbImportModalStyle",n.type="text/css";n.appendChild(document.createTextNode("#importModal{position:fixed;inset:0;z-index:9999;}#importModal .vb-overlay{position:fixed;inset:0;width:100vw;height:100vh;background:rgba(0,0,0,0.32);backdrop-filter:blur(7px) !important; -webkit-backdrop-filter:blur(7px) !important; display:flex;justify-content:center;align-items:center;padding:16px;box-sizing:border-box;}#importModal .vb-box{background:#fff;color:#333;width:100%;max-width:430px;max-height:85vh;overflow:auto;padding:0.5em 0.5em;border-radius:10px;box-shadow:0 4px 16px rgba(0,0,0,0.1);font-family:'Segoe UI','Apple SD Gothic Neo',sans-serif;box-sizing:border-box;}#importModal .vb-title{margin:0 0 10px 0;font-size:1.2em;color:#333;}#importModal .vb-fileRow{margin:0 0 12px 0;display:flex;align-items:center;gap:10px;}#importModal #importFileBtn{margin:0 !important;}#vbImportBody{padding:12px 14px 14px 14px;overflow:auto;}#vbImportHint{margin:0 0 10px 0;color:#5b677a;font-size:.95em;line-height:1.35;white-space:pre-line;}body.dark-mode #vbImportHint{color:#98a6bd;}#importModal .main-button{padding:6px 14px;margin:4px;border-radius:var(--neo-radius-md) !important;background-image:linear-gradient(135deg,rgba(47,134,246,0.12),rgba(0,194,168,0.10)) !important;background-color:transparent !important;border:1px solid rgba(78,140,240,0.22) !important;color:var(--neo-fg) !important;box-shadow:0 1px 0 rgba(255,255,255,0.7) inset,0 12px 22px rgba(10,30,80,0.12) !important;backdrop-filter:blur(10px) !important;-webkit-backdrop-filter:blur(10px) !important;cursor:pointer;font-weight:700;transition:transform .14s ease,box-shadow .14s ease,filter .14s ease,border-color .14s ease;}#importModal .main-button:hover{transform:translateY(-1px);box-shadow:0 1px 0 rgba(255,255,255,0.7) inset,0 9px 22px rgba(40,80,160,0.18) !important;border-color:rgba(110,170,255,0.55) !important;}#importModal .main-button:active{transform:scale(.98);}#importModal .vb-input{width:100%;height:120px;min-height:120px;padding:12px;font-size:16px;line-height:1.35;border:1px solid #ccc;border-radius:6px;resize:vertical;box-sizing:border-box;appearance:none;-webkit-appearance:none;}#importModal .vb-warning{margin-top:10px;margin-bottom:4px;font-size:0.9em;font-weight:700;text-align:center;color:#d80000;}#importModal .vb-actions{text-align:right;margin-top:1em;}@media (max-height:520px){#importModal .vb-overlay{align-items:flex-start;padding-top:12px;}#importModal .vb-box{max-height:92vh;}#importModal .vb-input{height:140px;}}body.dark-mode #importModal .vb-box{background:#222831;color:#e7ecfa;}body.dark-mode #importModal .vb-title{color:#f1f6fc;}body.dark-mode #importModal .vb-input{background:#2b2d31;color:#eee;border-color:#555;}body.dark-mode #importModal .vb-warning{color:#ffd43b;}body.dark-mode #importModal .main-button{background:#3a3a3c !important;color:#aaa !important;border:1px solid #555 !important;}body.dark-mode #importModal .main-button:hover{background:#333 !important;}")),document.head.appendChild(n);var r=document.createElement("div");r.id="importModal",r.innerHTML='<div class="vbOverlay"><div id="importBox" class="vb-box"><h3 id="importTitle" class="vb-title">ê°€ì ¸ì˜¤ê¸°</h3><div id="vbImportBody"><div id="vbImportHint">í•™ìŠµ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\ní…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ë¶™ì—¬ë„£ê±°ë‚˜ íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.</div><textarea id="importInput" class="vb-input" placeholder="í•™ìŠµ ë°ì´í„°ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ ë„£ì–´ ì£¼ì„¸ìš”."></textarea><div id="importWarning" class="vb-warning">âš ï¸ ê²½ê³ : ì´ ì‘ì—…ì€ ì·¨ì†Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div><div class="vb-actions"><button id="importFileBtn" class="main-button" type="button" style="margin-right: 8px !important;">íŒŒì¼ ê°€ì ¸ì˜¤ê¸°</button><button id="confirmBtn" class="main-button" style="margin-right:8px;">í™•ì¸</button><button id="cancelBtn" class="main-button">ì·¨ì†Œ</button></div></div></div></div>',document.body.appendChild(r),function(){var e=document.getElementById("importFileBtn"),t=document.getElementById("importInput");function o(e){e&&e.parentNode&&e.parentNode.removeChild(e)}e&&t&&(e.onclick=function(){var e=document.createElement("input");e.type="file",e.accept=".txt,.json,application/json,text/plain",e.style.position="fixed",e.style.left="-9999px",e.style.top="0",e.style.width="1px",e.style.height="1px",e.style.opacity="0",document.body.appendChild(e),e.onchange=function(){var n=e.files&&e.files[0]?e.files[0]:null;if(n){var r=new FileReader;r.onload=function(n){var r=n&&n.target?n.target.result:"";"string"!=typeof r&&(r=String(r||"")),t.value=r;try{t.focus()}catch(e){}try{var a=t.value?t.value.length:0;t.setSelectionRange(a,a)}catch(e){}o(e)},r.onerror=function(){o(e),G("íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")};try{r.readAsText(n,"UTF-8")}catch(e){try{r.readAsText(n)}catch(e){}}}else o(e)};try{e.value=""}catch(e){}try{e.click()}catch(e){}})}();var a=document.getElementById("importInput");if(a){a.setAttribute("autocapitalize","off"),a.setAttribute("autocorrect","off"),a.setAttribute("spellcheck","false"),a.setAttribute("inputmode","text");try{a.focus()}catch(e){}try{var i=a.value?a.value.length:0;a.setSelectionRange(i,i)}catch(e){}document.activeElement!==a&&setTimeout((function(){try{a.focus()}catch(e){}}),0)}document.getElementById("cancelBtn").onclick=function(){d()},document.getElementById("confirmBtn").onclick=function(){var e=document.getElementById("importInput").value;null!=e&&""!==e.trim()?(d(),function(e){if(!e)return;try{var t=JSON.parse(e);if(!t.review)return void G("ê°€ì ¸ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. JSON í˜•ì‹ì„ í™•ì¸ ë°”ëë‹ˆë‹¤.");if(VBData.reviewIds=M(t.review),VBStorage.setReviewIds(VBData.reviewIds,(function(e){e&&console.error("review ì €ì¥ ì‹¤íŒ¨:",e)})),!t.known)return void G("ê°€ì ¸ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. JSON í˜•ì‹ì„ í™•ì¸ ë°”ëë‹ˆë‹¤.");if(VBData.knownIds=M(t.known),VBStorage.setKnownIds(VBData.knownIds,(function(e){e&&console.error("known ì €ì¥ ì‹¤íŒ¨:",e)})),!t.srsMeta||"object"!=typeof t.srsMeta)return void G("ê°€ì ¸ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. JSON í˜•ì‹ì„ í™•ì¸ ë°”ëë‹ˆë‹¤.");if(VBData.srsMeta=t.srsMeta,VBStorage.setSrsMeta(VBData.srsMeta,(function(e){e&&console.error("srsMeta ì €ì¥ ì‹¤íŒ¨:",e)})),!t.dailyLog||"object"!=typeof t.dailyLog)return void G("ê°€ì ¸ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. JSON í˜•ì‹ì„ í™•ì¸ ë°”ëë‹ˆë‹¤.");var o={};for(var n in t.dailyLog)if(t.dailyLog.hasOwnProperty(n)){var r=t.dailyLog[n];o[n]=Array.isArray(r)?r.slice():[]}VBData.dailyLog=o,VBStorage.setDailyLog(VBData.dailyLog,(function(e){e&&console.error("dailyLog ì €ì¥ ì‹¤íŒ¨:",e),T(30,(function(e){e&&console.error("dailyLog ì •ë¦¬ ì‹¤íŒ¨:",e)}))})),G("í•™ìŠµ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤."),m()}catch(e){return void G("ê°€ì ¸ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. JSON í˜•ì‹ì„ í™•ì¸ ë°”ëë‹ˆë‹¤.")}}(e)):G("ê°€ì ¸ì˜¬ í…ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.")}}else G(t.LOAD_JSON_FIRST);function d(){var e=document.getElementById("importModal");e&&e.parentNode&&e.parentNode.removeChild(e);var t=document.getElementById("vbImportModalStyle");t&&t.parentNode&&t.parentNode.removeChild(t)}}))),D.appendChild(Y("â“ í€´ì¦ˆ",(function(){w&&Array.isArray(w)&&0!==w.length?function(){if(document.getElementById("quizModal"))return void G("ì´ë¯¸ í€´ì¦ˆê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.");if(document.getElementById("vbMatchModal"))return void G("ì´ë¯¸ í€´ì¦ˆê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.");!function(){if(F)return;F=!0;var e=w&&w.length?w.length:0,o=document.body.classList.contains("dark-mode"),n=le(),r=n.inS?se(n.inS.value):NaN,a=n.inE?se(n.inE.value):NaN;(isNaN(r)||r<1)&&(r=1);(isNaN(a)||a<r)&&(a=Math.min(400,e||400));e>0&&(a=pe(a,1,e));var i=a-r+1;(isNaN(i)||i<1)&&(i=Math.min(100,e||100));var d=pe(i,1,e||i);(!d||d<1)&&(d=100);var l=document.createElement("div");l.id="vbQuizOptModal",l.innerHTML='<div id="vbQuizOptBackdrop" class="vbOverlay" style="z-index:99998;"></div><div id="vbQuizOptContainer" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99999;width:min(520px,92vw);border-radius:14px;box-shadow:0 18px 60px rgba(0,0,0,0.35);background:'+(o?"#1f2630":"#ffffff")+";border:1px solid "+(o?"#3b4656":"#d8e1ec")+";color:"+(o?"#e7eef8":"#1a2330")+';padding:16px 16px 14px 16px;"><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;"><div style="font-size:1.1em;font-weight:800;letter-spacing:-0.2px;">í€´ì¦ˆ ì˜µì…˜</div><button id="vbQuizOptClose" style="border:none;background:transparent;color:'+(o?"#cfe0ff":"#355")+';font-size:20px;cursor:pointer;padding:4px 8px;">âœ•</button></div><div style="font-size:0.92em;opacity:0.9;line-height:1.35;margin-bottom:12px;">ì´ ë‹¨ì–´ ìˆ˜: <b>'+e+'</b><br>ê°ê´€ì‹ì€ ìµœì†Œ <b>4ê°œ</b>, ì¹´ë“œ ë§ì¶”ê¸°ëŠ” ìµœì†Œ <b>2ê°œ</b> ì´ìƒë¶€í„° ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div><div style="padding:10px 12px;border-radius:12px;border:1px solid '+(o?"#334155":"#e5edf6")+";background:"+(o?"#18212b":"#f7fbff")+';margin-bottom:10px;"><div style="font-weight:800;margin-bottom:8px;">1) í€´ì¦ˆ ìœ í˜•</div><label style="display:flex;gap:10px;align-items:center;margin:6px 0;cursor:pointer;"><input type="radio" name="vbQuizType" id="vbQTypeChoice" value="choice" checked> <span>ê°ê´€ì‹(ëœ» ê³ ë¥´ê¸°)</span></label><label style="display:flex;gap:10px;align-items:center;margin:6px 0;cursor:pointer;"><input type="radio" name="vbQuizType" id="vbQTypeMatch" value="match"> <span>ì¹´ë“œ ë§ì¶”ê¸°(ë‹¨ì–´ì™€ ëœ» ë§¤ì¹­)</span></label></div><div style="padding:10px 12px;border-radius:12px;border:1px solid '+(o?"#334155":"#e5edf6")+";background:"+(o?"#18212b":"#f7fbff")+';margin-bottom:12px;"><div style="font-weight:800;margin-bottom:8px;">2) ì¶œì œ ë°©ì‹</div><label style="display:flex;gap:10px;align-items:center;margin:6px 0;cursor:pointer;"><input type="radio" name="vbQuizMode" id="vbQModeRange" value="range" checked> <span>ë²”ìœ„ ì§€ì •(ì‹œì‘~ë)</span></label><div style="display:flex;gap:10px;align-items:center;margin:6px 0 10px 24px;flex-wrap:wrap;"><span style="opacity:0.9;">ì‹œì‘</span><input id="vbQStart" inputmode="numeric" pattern="[0-9]*" style="font-size: 16px;width:70px !important;padding:8px 10px;border-radius:10px;border:1px solid '+(o?"#3b4656":"#d8e1ec")+";background:"+(o?"#0f1720":"#fff")+";color:"+(o?"#e7eef8":"#1a2330")+';" value="'+r+'"><span style="opacity:0.9;">ë</span><input id="vbQEnd" inputmode="numeric" pattern="[0-9]*" style="font-size: 16px;width:70px !important;padding:8px 10px;border-radius:10px;border:1px solid '+(o?"#3b4656":"#d8e1ec")+";background:"+(o?"#0f1720":"#fff")+";color:"+(o?"#e7eef8":"#1a2330")+';" value="'+a+'"></div><label style="display:flex;gap:10px;align-items:center;margin:6px 0;cursor:pointer;"><input type="radio" name="vbQuizMode" id="vbQModeRandom" value="random"> <span>ì „ì²´ì—ì„œ ëœë¤ Nê°œ</span></label><div style="display:flex;gap:10px;align-items:center;margin:6px 0 0 24px;flex-wrap:wrap;"><span style="opacity:0.9;">N</span><input id="vbQCount" inputmode="numeric" pattern="[0-9]*" style="font-size: 16px;width:70px !important;padding:8px 10px;border-radius:10px;border:1px solid '+(o?"#3b4656":"#d8e1ec")+";background:"+(o?"#0f1720":"#fff")+";color:"+(o?"#e7eef8":"#1a2330")+';" value="'+d+'"></div></div><div style="display:flex;gap:10px;justify-content:flex-end;"><button id="vbQuizOptStart">ì‹œì‘</button><button id="vbQuizOptCancel">ì·¨ì†Œ</button></div></div>',document.body.appendChild(l),function(){var e=document.getElementById("vbMatchFxStyle");if(!e){(e=document.createElement("style")).id="vbMatchFxStyle",e.type="text/css";var t="#vbMatchModal .vbMatchTile{position:relative;overflow:hidden;transform:translateZ(0);-webkit-tap-highlight-color:transparent;will-change:transform,opacity,background,color,border-color;transition:all .2s;}\n#vbMatchModal .vbMatchTile.vbMatchSelected{border-color:var(--primary,#3b82f6);background:var(--selected-bg,#eff6ff);color:var(--primary,#3b82f6);}\n#vbMatchModal .vbMatchTile.vbMatchMatched{animation:vbMatchSuccess .6s forwards;pointer-events:none;}\n@keyframes vbMatchSuccess{0%{transform:scale(1);}30%{transform:scale(1.1);background:var(--success,#10b981);color:#fff;border-color:var(--success,#10b981);}100%{transform:scale(0);opacity:0;}}\n#vbMatchModal .vbMatchTile.vbMatchWrongShake{animation:vbMatchShake .4s;border-color:var(--wrong,#ef4444) !important;color:var(--wrong,#ef4444) !important;}\n@keyframes vbMatchShake{0%,100%{transform:translateX(0);}25%{transform:translateX(-5px);}75%{transform:translateX(5px);}}\n#vbMatchGiveUpBtn{height:32px;min-width:52px;padding:0 10px;border-radius:10px;border:1px solid rgba(100,140,200,0.35);background:transparent;color:#2b3a4a;font-weight:800;cursor:pointer;user-select:none;white-space:nowrap;}\n#vbMatchGiveUpBtn:hover{background:rgba(210,236,255,55);box-shadow:0 8px 16px rgba(40,80,160,16);}\n#vbMatchGiveUpBtn:active{transform:scale(.98);}\nbody.dark-mode #vbMatchGiveUpBtn{border-color:rgba(120,140,180,0.22);color:#eaf2fb;}\nbody.dark-mode #vbMatchGiveUpBtn:hover{background:rgba(60,75,92,98);box-shadow:0 12px 22px rgba(0,0,0,45);}\n#vbMatchGiveUpBtn:disabled{opacity:.45;cursor:default;box-shadow:none;transform:none;}\n@media (prefers-reduced-motion:reduce){#vbMatchModal .vbMatchTile{transition:none!important;animation:none!important;}#vbMatchModal .vbMatchTile.vbMatchMatched{opacity:0!important;transform:scale(.96)!important;}#vbMatchModal .vbMatchTile.vbMatchWrongFx{animation:none!important;}}\n";e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}}();var c=function(e){"Escape"===e.key&&(me(),document.removeEventListener("keydown",c,!0))};document.addEventListener("keydown",c,!0);var s=document.getElementById("vbQuizOptClose"),p=document.getElementById("vbQuizOptCancel"),u=document.getElementById("vbQuizOptStart");s&&(s.onclick=me);p&&(p.onclick=me);var m=document.getElementById("vbQStart"),b=document.getElementById("vbQEnd"),f=document.getElementById("vbQCount");m&&(m.oninput=function(){this.value=String(this.value).replace(/[^0-9]/g,"")});b&&(b.oninput=function(){this.value=String(this.value).replace(/[^0-9]/g,"")});f&&(f.oninput=function(){this.value=String(this.value).replace(/[^0-9]/g,"")});function v(){"range"===(document.getElementById("vbQModeRange").checked?"range":"random")?(m&&(m.disabled=!1),b&&(b.disabled=!1),f&&(f.disabled=!0),f&&(f.style.opacity="0.5")):(m&&(m.disabled=!0),b&&(b.disabled=!0),f&&(f.disabled=!1),f&&(f.style.opacity="1"))}var g=document.getElementById("vbQModeRange"),h=document.getElementById("vbQModeRandom");g&&(g.onclick=v);h&&(h.onclick=v);v(),u&&(u.onclick=function(){var e=document.getElementById("vbQTypeChoice").checked?"choice":"match",o=document.getElementById("vbQModeRange").checked?"range":"random";if(w&&Array.isArray(w)&&0!==w.length){var n="choice"===e?4:2;if("range"!==o){var r=se(f?f.value:"");if(isNaN(r)||r<n)G("ëœë¤ Nì€ ìµœì†Œ "+n+" ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");else if(r>w.length)G("ëœë¤ Nì€ ì „ì²´ ë‹¨ì–´ ìˆ˜("+w.length+")ë¥¼ ë„˜ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");else if(me(),"choice"===e)!function(e){var t=w,o=le(),n=o.inS?o.inS.value:"",r=o.inE?o.inE.value:"",a=ue(t,e);w=a,ce(1,a.length),ve(),w=t,o.inS&&(o.inS.value=n);o.inE&&(o.inE.value=r)}(r);else be(ue(w,r))}else{var a=parseInt(m.value,10),i=parseInt(b.value,10),d=w.length;if(isNaN(a)||isNaN(i))return void G("ë²”ìœ„ ì‹œì‘/ë ê°’ì„ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.");if(a<1||i<1||a>i||i>d)return void G("1ì—ì„œ "+d+" ì‚¬ì´ì˜ ìœ íš¨í•œ ë²”ìœ„ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");if(i-a+1<n)return void G("ì„ íƒí•œ í€´ì¦ˆ ìœ í˜•ì€ ìµœì†Œ "+n+"ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤.");if(!a||!i||a<1||i<1||a>w.length||i>w.length)return void vbToast("ë²”ìœ„ ì…ë ¥ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");if(i<a){var l=a;a=i,i=l}if(me(),"choice"===e)!function(e,t){var o=w,n=le(),r=n.inS?n.inS.value:"",a=n.inE?n.inE.value:"",i=parseInt(e,10),d=parseInt(t,10);if(!i||!d)return;if(d<i){var l=i;i=d,d=l}i<1&&(i=1);d>o.length&&(d=o.length);if(d<i)return;var c=o.slice(i-1,d);w=c,ce(1,c.length),ve(),w=o,n.inS&&(n.inS.value=r);n.inE&&(n.inE.value=a)}(a,i);else{var c=w.slice(a-1,i);S(c),be(c)}}}else G(t.LOAD_JSON_FIRST)})}()}():G(t.LOAD_JSON_FIRST)}))),r.appendChild(D);var F=!1,Q=null,Z=null,de=!1;function le(){return{inS:document.querySelector("#searchUI input[type='number']:first-child"),inE:document.querySelector("#searchUI input[type='number']:nth-child(2)")}}function ce(e,t){var o=le();o.inS&&(o.inS.value=String(e)),o.inE&&(o.inE.value=String(t))}function se(e){return null==e?NaN:(e=String(e).replace(/[^0-9]/g,""))?parseInt(e,10):NaN}function pe(e,t,o){return e=+e,isNaN(e)||e<t?t:e>o?o:e}function ue(e,t){var o=e.length;t=pe(t,0,o);for(var n=[],r=0;r<o;r++)n.push(r);for(var a=0;a<t;a++){var i=a+Math.floor(Math.random()*(o-a)),d=n[a];n[a]=n[i],n[i]=d}for(var l=[],c=0;c<t;c++)l.push(e[n[c]]);return l}function me(){F=!1;var e=document.getElementById("vbQuizOptModal");e&&e.parentNode&&e.parentNode.removeChild(e)}function be(e){function t(e){if(!e)return"";var t=null!=e.word_eng?e.word_eng:null!=e.word?e.word:"";return null==t&&(t=""),String(t)}function n(e){if(!e)return"";var t=null!=e.word_kor?e.word_kor:null!=e.word_list_mean?e.word_list_mean:"";return null==t&&(t=""),String(t)}if(e&&e.length)if(e.length<2)G("ë§¤ì¹­í€´ì¦ˆëŠ” ìµœì†Œ 2ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤.");else if(document.getElementById("quizModal"))G("ì´ë¯¸ í€´ì¦ˆê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.");else if(document.getElementById("vbMatchModal"))G("ì´ë¯¸ í€´ì¦ˆê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.");else{var r=document.body.classList.contains("dark-mode"),a=document.getElementById("wordListContainer");a&&(a.setAttribute("data-disabled","true"),a.style.pointerEvents="none",a.style.opacity="0.4",a.style.filter="blur(7px)");var i=null;i&&(clearTimeout(i),i=null),de=!1,Q&&(clearInterval(Q),Q=null),Z&&(clearTimeout(Z),Z=null);for(var d=e.length,l=function(e,t){var o=Math.ceil(e/t);o<1&&(o=1);for(var n=Math.floor(e/o),r=e%o,a=[],i=0;i<o;i++)a.push(n+(i<r?1:0));return a}(d,6),c=[],s=0,p=0;p<l.length;p++)c.push(e.slice(s,s+l[p])),s+=l[p];var u=0,m=0,b=0,f=0,v=25,g=v,h={},y={},x={},w=VBData&&VBData.srsMeta?VBData.srsMeta:{};VBData&&(VBData.srsMeta=w);var k=null,C=null,E=null,M=document.createElement("div");M.id="vbMatchModal",M.innerHTML='<div id="vbMatchBackdrop" class="vbOverlay" style="z-index:99998;"></div><div id="vbMatchContainer" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99999;width:min(640px,94vw);border-radius:14px;box-shadow:0 18px 60px rgba(0,0,0,0.35);background:'+(r?"#1f2630":"#ffffff")+";border:1px solid "+(r?"#3b4656":"#d8e1ec")+";color:"+(r?"#e7eef8":"#1a2330")+';padding:14px 14px 12px 14px;"><div id="vbMatchHeader" style="display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto;column-gap:10px;row-gap:6px;align-items:start;"><div id="vbMatchInfoLeft" style="grid-column:1 / 2;grid-row:1 / 2;"></div><div id="vbMatchHeadRight" style="grid-column:2 / 3;grid-row:1 / 2;display:flex;align-items:center;justify-content:flex-end;gap:10px;white-space:nowrap;text-align:right;"><div id="vbMatchInfoRight" style="font-size:clamp(0.88em,3.2vw,0.98em);"></div><button id="vbMatchGiveUpBtn" type="button" title="í¬ê¸°" aria-label="í¬ê¸°">í¬ê¸°</button><button id="vbMatchCloseBtn" style="position:static;top:auto;right:auto;margin:0;flex:0 0 auto;"></button></div><div id="vbMatchTimerText" style="grid-column:1 / 3;grid-row:2 / 3;font-size:clamp(0.88em,3.2vw,0.95em);opacity:0.9;line-height:1.25;"></div></div><div id="vbMatchBody" style="margin-top:12px;padding:10px;border-radius:12px;border:1px solid '+(r?"#334155":"#e5edf6")+";background:"+(r?"#18212b":"#f7fbff")+';"><div id="vbMatchGrid" style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;"></div></div></div>',document.body.appendChild(M),document.addEventListener("keydown",I,!0),setTimeout((function(){var e=document.getElementById("vbMatchCloseBtn");e&&(e.onclick=z)}),0),setTimeout((function(){var e=document.getElementById("vbMatchGiveUpBtn");e&&(e.onclick=function(){de||(e.disabled=!0,g=0,L(),oe(),navigator.vibrate&&navigator.vibrate(500),Q&&(clearInterval(Q),Q=null),q())})}),0),_()}else G("ì¶œì œí•  ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.");function B(e){return P(e)}function T(e){if(e=+e,!(isNaN(e)||e<=0)){var t=o(new Date);VBData.dailyLog||(VBData.dailyLog={}),VBData._dailyLogNormalizedOnce||(VBData.dailyLog=function(e){var t={};if(!e||"object"!=typeof e)return t;for(var o=Object.keys(e),n=0;n<o.length;n++){var r=o[n];t[r]=B(e[r])}return t}(VBData.dailyLog),VBData._dailyLogNormalizedOnce=!0);var n=B(VBData.dailyLog[t]);-1===n.indexOf(e)&&n.push(e),VBData.dailyLog[t]=n,VBStorage&&"function"==typeof VBStorage.setDailyLog&&(k&&clearTimeout(k),k=setTimeout((function(){k=null,VBStorage.setDailyLog(VBData.dailyLog||{},(function(e){}))}),800))}}function S(e,t){if(T(e),e=String(e),w[e]||(w[e]={level:1,lastReviewedAt:"",nextReviewAt:"",correctCount:0,wrongCount:0}),w[e].lastReviewedAt=(new Date).toISOString(),t){w[e].correctCount+=1,w[e].level<4&&(w[e].level+=1);var o=[1,3,7,14][w[e].level-1]||14,n=new Date(Date.now()+864e5*o);w[e].nextReviewAt=n.toISOString()}else{w[e].wrongCount+=1,w[e].level=1;var r=new Date(Date.now()+864e5);w[e].nextReviewAt=r.toISOString()}VBData&&(VBData.srsMeta=w),VBStorage&&"function"==typeof VBStorage.setSrsMeta&&(C&&clearTimeout(C),C=setTimeout((function(){C=null,VBStorage.setSrsMeta(w||{},(function(e){e&&G("í•™ìŠµ ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}))}),800))}function L(){var e=document.getElementById("vbMatchInfoLeft"),t=document.getElementById("vbMatchInfoRight"),o=document.getElementById("vbMatchTimerText");e&&(e.innerHTML='<div style="margin-top:6px;font-size:0.92em;opacity:0.9;">ì§„í–‰: '+m+" / "+d+"</div>"),t&&(t.innerHTML="ì •ë‹µ: "+b+" ì˜¤ë‹µ: "+f);var n=g<=5?r?"#ff6b6b":"#d62828":r?"#e7eef8":"#1a2330";o&&(o.innerHTML='ë‚¨ì€ ì‹œê°„: <b style="color:'+n+';">'+g+"ì´ˆ</b> (í˜ì´ì§€ "+(u+1)+" / "+c.length+")")}function z(){if(!de){de=!0,Q&&(clearInterval(Q),Q=null),Z&&(clearTimeout(Z),Z=null),i&&(clearTimeout(i),i=null),k&&(clearTimeout(k),k=null),C&&(clearTimeout(C),C=null),VBStorage&&"function"==typeof VBStorage.setDailyLog&&VBStorage.setDailyLog(VBData.dailyLog||{},(function(e){})),VBStorage&&"function"==typeof VBStorage.setSrsMeta&&VBStorage.setSrsMeta(w||{},(function(e){e&&G("í•™ìŠµ ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")})),document.removeEventListener("keydown",I,!0);var e=document.getElementById("vbMatchModal");e&&e.parentNode&&e.parentNode.removeChild(e),a&&(a.style.pointerEvents="auto",a.style.opacity="1",a.style.filter="none",a.removeAttribute("data-disabled"))}}function I(e){"Escape"===e.key&&(z(),document.removeEventListener("keydown",I,!0))}function O(e){e=String(e),h[e]=!0}function N(e){var t=String(e);O(t),"wrong"!==y[t]&&"correct"!==y[t]&&(y[t]="wrong",f+=1,S(t,!1))}function D(e,t){if(e=String(e),!x[e]){x[e]=!0;var o=!!t;h[e]&&(o=!1),o?y[e]||(y[e]="correct",b+=1,S(e,!0)):"wrong"!==y[e]&&(y[e]="wrong",f+=1,S(e,!1))}}function _(){if(!de){E=null;var e=c[u]||[];v=function(e){if(e>=6)return 25;if(5===e)return 20;if(4===e)return 15;if(3===e)return 10;if(2===e)return 7;var t=1+4*e;return t<10&&(t=10),t}(e.length),g=v;var o=document.getElementById("vbMatchGiveUpBtn");o&&(o.disabled=!1);var a=document.getElementById("vbMatchGrid");a.style.pointerEvents="auto",a.innerHTML="";e=c[u]||[];for(var d=[],l=0;l<e.length;l++){var s=e[l];d.push({wid:s.word_id,side:"eng",text:t(s)}),d.push({wid:s.word_id,side:"kor",text:n(s)})}!function(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[o],e[o]=n}}(d);for(var p=0;p<d.length;p++)!function(e){var t=document.createElement("button");t.type="button",t.setAttribute("data-wid",String(e.wid)),t.setAttribute("data-side",e.side),t.className="vbMatchTile",t.style.borderRadius="12px",t.style.padding="12px 10px",t.style.minHeight="52px",t.style.border="1px solid "+(r?"#3b4656":"#d8e1ec"),t.style.background=r?"#0f1720":"#ffffff",t.style.color=r?"#e7eef8":"#1a2330",t.style.fontFamily="system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Apple SD Gothic Neo','Noto Sans KR','Malgun Gothic',sans-serif",t.style.fontSize="16px",t.style.fontSize="clamp(16px, 3.6vw, 18px)";var o="kor"===e.side;t.style.fontWeight=o?"700":"800",t.style.lineHeight=o?"1.25":"1.2",t.style.letterSpacing=o?"0px":"0.2px",t.style.textAlign="center",t.style.cursor="pointer",t.style.boxShadow="0 2px 10px rgba(0,0,0,0.06)",t.style.wordBreak="break-word",t.style.lineHeight="1.15",t.textContent=e.text;t.onclick=function(){if(!de&&t&&"1"!==t.getAttribute("data-cleared")){if(!E)return ee.select(),E={el:t,wid:t.getAttribute("data-wid"),side:t.getAttribute("data-side")},t.style.outline="3px solid "+(r?"#8ab4ff":"#2a71ff"),void(t.style.outlineOffset="2px");if(E.el===t)return t.style.outline="none",t.style.outlineOffset="0",void(E=null);var e=E,o={el:t,wid:t.getAttribute("data-wid"),side:t.getAttribute("data-side")};e.el&&(e.el.style.outline="none",e.el.style.outlineOffset="0"),E=null;var n=e.wid===o.wid&&e.side!==o.side,d=!1;try{d=!(!window.matchMedia||!window.matchMedia("(prefers-reduced-motion: reduce)").matches)}catch(e){}var l=d?0:680,c=d?0:220;if(n)te(),m+=1,function(e,t){for(var o=String(e),n=a.querySelectorAll('button[data-wid="'+o+'"][data-side]'),r=0;r<n.length;r++){var i=n[r];if(i.style.pointerEvents="none",i.setAttribute("data-cleared","1"),i.style.outline="none",i.style.outlineOffset="0",i.classList.remove("vbMatchSelected"),t&&!d){i.classList.remove("vbMatchMatched"),i.offsetWidth,i.classList.add("vbMatchMatched");try{navigator&&navigator.vibrate&&navigator.vibrate(12)}catch(e){}!function(e){setTimeout((function(){e.style.visibility="hidden"}),650)}(i)}else i.style.opacity="0",i.style.transform="scale(0.96)",i.style.visibility="hidden"}}(e.wid,!0),D(e.wid,!0);else{oe(),navigator.vibrate&&navigator.vibrate(500),O(e.wid),O(o.wid),function(){function t(e){e&&!d&&(e.classList.remove("vbMatchWrongShake"),e.offsetWidth,e.classList.add("vbMatchWrongShake"),setTimeout((function(){e.classList.remove("vbMatchWrongShake")}),420))}t(e.el),t(o.el)}(),N(e.wid),N(o.wid);var s=e.el,p=o.el,u=s?s.style.outline:"",b=s?s.style.outlineOffset:"",f=p?p.style.outline:"",v=p?p.style.outlineOffset:"";s&&(s.style.outline="3px solid "+(r?"#ff6b6b":"#d62828"),s.style.outlineOffset="2px"),p&&(p.style.outline="3px solid "+(r?"#ff6b6b":"#d62828"),p.style.outlineOffset="2px"),setTimeout((function(){s&&(s.style.outline=u,s.style.outlineOffset=b),p&&(p.style.outline=f,p.style.outlineOffset=v)}),220),L(),A()&&V()}if(L(),A())Q&&(clearInterval(Q),Q=null),i&&(clearTimeout(i),i=null),i=setTimeout((function(){i=null,de||V()}),d?0:l+c+40)}},a.appendChild(t)}(d[p]);L(),Q&&(clearInterval(Q),Q=null),Q=setInterval((function(){de||((g-=1)<0&&(g=0),L(),g<=0&&(oe(),navigator.vibrate&&navigator.vibrate(500),clearInterval(Q),Q=null,q()))}),1e3)}}function A(){for(var e=c[u]||[],t=0;t<e.length;t++){var o=String(e[t].word_id);if(!x[o])return!1}return!0}function V(){if(Q&&(clearInterval(Q),Q=null),Z&&(clearTimeout(Z),Z=null),i&&(clearTimeout(i),i=null),(u+=1)>=c.length)return z(),void G("í€´ì¦ˆë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.\në§ì€ ê°œìˆ˜: "+b+", í‹€ë¦° ê°œìˆ˜: "+f);_()}function q(){if(!de){E&&E.el&&(E.el.style.outline="none",E.el.style.outlineOffset="0"),E=null;for(var e=c[u]||[],t=[],o=0;o<e.length;o++){var n=e[o],a=String(n.word_id);x[a]||(t.push(n),m+=1,D(a,!1))}L();var i=document.getElementById("vbMatchGrid");if(i)if(t.length){i.style.pointerEvents="none";for(var d=["rgba(255, 92, 132, 0.85)","rgba( 74,190,255, 0.85)","rgba(132,255,160, 0.80)","rgba(255,210, 92, 0.85)","rgba(186,132,255, 0.85)","rgba( 92,255,220, 0.80)"],l=r?["rgba(255, 92, 132, 0.34)","rgba( 74,190,255, 0.30)","rgba(132,255,160, 0.28)","rgba(255,210, 92, 0.30)","rgba(186,132,255, 0.30)","rgba( 92,255,220, 0.28)"]:["rgba(255,221,235,0.95)","rgba(221,242,255,0.95)","rgba(232,255,221,0.95)","rgba(255,245,204,0.95)","rgba(231,221,255,0.95)","rgba(221,255,245,0.95)"],s=i.querySelectorAll("button[data-wid][data-side]"),p=0;p<s.length;p++)s[p].style.outline="none",s[p].style.outlineOffset="0";for(var b=0;b<t.length;b++){var f=t[b],v=String(f.word_id),g=l[b%l.length],h=i.querySelector('button[data-wid="'+v+'"][data-side="eng"]'),y=i.querySelector('button[data-wid="'+v+'"][data-side="kor"]'),w=d[b%d.length];h&&"none"!==h.style.display&&(h.style.background=g,r&&(h.style.borderColor=w)),y&&"none"!==y.style.display&&(y.style.background=g,r&&(y.style.borderColor=w))}Z=setTimeout((function(){Z=null,V()}),2e3)}else V()}}}var fe=null;function ve(){fe&&(clearInterval(fe),fe=null);var e=document.querySelector("#searchUI input[type='number']:first-child"),t=document.querySelector("#searchUI input[type='number']:nth-child(2)"),n=+e.value,r=+t.value,a=w.length;if(e.value.trim()&&t.value.trim())if(isNaN(n)||isNaN(r)||n<1||r>a||n>r)G("1ì—ì„œ "+a+" ì‚¬ì´ì˜ ìœ íš¨í•œ ë²”ìœ„ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");else{var i=w.slice(n-1,r),d=4;if(i.length<d)G("ìµœì†Œí•œ ë²”ìœ„ëŠ” 4 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");else{var l=document.getElementById("wordListContainer");l&&(l.setAttribute("data-disabled","true"),l.style.pointerEvents="none",l.style.opacity="0.4",l.style.filter="blur(7px)");var c=0,s=i.length,p=0,u=0,m={},b=10,f=b,v=2*Math.PI*26,g=!1,h={};VBStorage.getSrsMeta((function(e,t){if(e)return console.error("SRS ë©”íƒ€ ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:",e),void(h={});if("string"==typeof t)try{h=JSON.parse(t)}catch(e){h={}}else h=t||{}}));var y=document.createElement("div");if(y.id="quizModal",y.innerHTML='<div id="quizBackdrop" class="vbOverlay" style="z-index:99998;"><div id="quizContainer" style="background:#fff;max-width:430px;width:94vw;min-width:280px;padding:1.3em 1.3em 1.2em 1.3em;border-radius:18px;box-shadow:0 8px 32px rgba(0,0,0,0.23);font-family:\'Segoe UI\',\'Apple SD Gothic Neo\',\'Noto Sans KR\',sans-serif;position:relative;overflow:hidden;transition:box-shadow .4s;"><div id="quizProgress" style="display:flex;align-items:center;gap:10px;margin-bottom:1.3em;font-size:1.07em;color:#444;"><span id="quizStep"></span><span style="display:flex;align-items:center;gap:6px;margin-left:auto;"><span id="quizCorrect" style="color:var(--quizCorrectColor);font-weight:700;">0</span> / <span id="quizWrong" style="color:var(--quizWrongColor);font-weight:700;">0</span></span><button id="quizCloseBtn" aria-label="ë‹«ê¸°" style="width:36px;height:36px;display:flex;justify-content:center;align-items:center;border-radius:10px;cursor:pointer;transition:background 0.2s, color 0.2s, box-shadow 0.2s, border-color 0.2s;z-index:20;padding:0;border:none;background:transparent;"></button></div><div id="quizTimerWrap" style="display:flex;justify-content:center;align-items:center;height:60px;position:relative;margin-bottom:1.1em;"><svg id="quizTimerSVG" width="60" height="60" style="position:absolute;top:0;left:50%;transform:translateX(-50%);z-index:1;"><circle id="quizTimerBg" cx="30" cy="30" r="26" stroke="#e0e0e0" stroke-width="6" fill="none"/><circle id="quizTimerBar" cx="30" cy="30" r="26" stroke="#4FC3F7" stroke-width="6" fill="none" stroke-linecap="round" stroke-dasharray="163.36" stroke-dashoffset="0" style="transition:stroke-dashoffset 0.3s linear;"/></svg><span id="quizTimerNum" style="position:relative;z-index:2;font-size:2em;font-weight:700;color:#222;">10</span></div><div id="quizSpell" style="text-align:center;font-size:2.1em;font-weight:800;color:#163E70;letter-spacing:0.03em;"></div><div id="quizPronounce" style="text-align:center;margin-top:.2em;margin-bottom:1.3em;font-size:1.17em;color:#666;"></div><div id="quizChoices" style="display:flex;flex-direction:column;gap:10px;"></div></div></div><style>#quizContainer{--quizCorrectColor:#388e3c;--quizWrongColor:#d32f2f;} body.dark-mode #quizContainer{--quizCorrectColor:#9be7a3;--quizWrongColor:#ff8a80;} body.dark-mode #quizContainer{background:#2c313a;color:#f8fafc;} body.dark-mode #quizProgress{color:#f1f5f9 !important;} body.dark-mode #quizStep{color:#f8fafc !important;} body.dark-mode #quizSpell{color:#ffffff !important;text-shadow:0 2px 8px rgba(0,0,0,0.55);} body.dark-mode #quizPronounce{color:#e2e8f0 !important;text-shadow:0 1px 6px rgba(0,0,0,0.45);} body.dark-mode #quizTimerNum{color:#ffffff !important;text-shadow:0 2px 10px rgba(0,0,0,0.65);} #quizCloseBtn{width:36px;height:36px;border-radius:10px;box-sizing:border-box;border:2px solid rgba(120,140,180,0.35) !important;background:rgba(255,255,255,0.08) !important;position:relative;box-shadow:0 6px 14px rgba(40,80,160,0.10) !important;outline:none;transform:none !important;} #quizCloseBtn::before,#quizCloseBtn::after{content:"";position:absolute;top:50%;left:50%;width:16px;height:3px;background:rgba(60,80,110,0.95);border-radius:3px;transform-origin:center;box-shadow:0 1px 1px rgba(255,255,255,0.7);} #quizCloseBtn::before{transform:translate(-50%,-50%) rotate(45deg);} #quizCloseBtn::after{transform:translate(-50%,-50%) rotate(-45deg);} #quizCloseBtn:hover{background:rgba(210,236,255,0.55) !important;border-color:rgba(110,170,255,0.65) !important;box-shadow:0 8px 16px rgba(40,80,160,0.16) !important;transform:none !important;} #quizCloseBtn:hover::before,#quizCloseBtn:hover::after{background:rgba(30,42,54,0.98);} body.dark-mode #quizCloseBtn{background:rgba(20,26,34,0.45) !important;border:2px solid rgba(120,140,170,0.35) !important;box-shadow:0 10px 18px rgba(0,0,0,0.35) !important;transform:none !important;} body.dark-mode #quizCloseBtn::before,body.dark-mode #quizCloseBtn::after{background:rgba(234,248,243,0.95);box-shadow:0 1px 1px rgba(0,0,0,0.45);} body.dark-mode #quizCloseBtn:hover{background:#3c4b5c !important;border-color:#58708a !important;box-shadow:0 12px 22px rgba(0,0,0,0.45) !important;transform:none !important;} body.dark-mode #quizCloseBtn:hover::before,body.dark-mode #quizCloseBtn:hover::after{background:#f6faff;} body.dark-mode #quizTimerBg{stroke:#3a3f46;}body.dark-mode #quizTimerBar{stroke:#9be7a3;}#quizChoices button{display:block;width:100%;padding:12px 0;margin:0;font-size:1.12em;border-radius:11px;border:none;background:linear-gradient(to bottom,#D9EDFC,#B9D9F6);font-weight:600;cursor:pointer;color:#163E70;box-shadow:0 2px 8px rgba(90,130,180,0.04);transition:background .16s,box-shadow .18s;outline:none;}#quizChoices button:hover,#quizChoices button:focus{background:linear-gradient(to bottom,#D9EDFC,#B9D9F6);box-shadow:0 2px 10px rgba(80,130,190,0.13);}body.dark-mode #quizChoices button{background:linear-gradient(to bottom,#424547,#333a41);color:#d8e0f7;}body.dark-mode #quizChoices button:hover,body.dark-mode #quizChoices button:focus{background:linear-gradient(to bottom,#424547,#333a41);}#quizChoices .correct{background:linear-gradient(to bottom,#bbf7d0,#86efac)!important;color:#095a22!important;box-shadow:0 2px 14px #44cfaa46;}#quizChoices .wrong{background:linear-gradient(to bottom,#ffd6db,#ffa6ba)!important;color:#b71c1c!important;box-shadow:0 2px 14px #f9595966;}</style>',document.body.appendChild(y),document.body.classList.contains("dark-mode")){var x=document.getElementById("quizContainer");x&&x.classList.add("dark-mode")}document.addEventListener("keydown",k,!0),setTimeout((function(){var e=document.getElementById("quizCloseBtn");e&&(e.onclick=C)}),0);setTimeout((function(){B()}),0)}}else G("ë²”ìœ„ì˜ ì‹œì‘ê³¼ ë ìˆ«ìë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.");function k(e){"Escape"===e.key&&(C(),document.removeEventListener("keydown",k,!0))}function C(){if(!g){g=!0,fe&&(clearInterval(fe),fe=null),document.removeEventListener("keydown",k,!0);var e=document.getElementById("quizModal");e&&e.parentNode&&e.parentNode.removeChild(e),l&&(l.style.pointerEvents="auto",l.style.opacity="1",l.style.filter="none",l.removeAttribute("data-disabled"))}}function E(e,t){if(e=+e,isNaN(e)||e<=0)t&&t(null);else{var n=o(new Date);VBData.dailyLog||(VBData.dailyLog={}),VBData._dailyLogNormalizedOnce||(VBData.dailyLog=function(e){var t={};if(!e||"object"!=typeof e)return t;for(var o=Object.keys(e),n=0;n<o.length;n++){var r=o[n];t[r]=P(e[r])}return t}(VBData.dailyLog),VBData._dailyLogNormalizedOnce=!0);var r=VBData.dailyLog[n];-1===(r=P(r)).indexOf(e)&&r.push(e),VBData.dailyLog[n]=r,VBStorage.setDailyLog(VBData.dailyLog,(function(e){t&&t(e||null)}))}}function M(e,t,o){if(E(e),e=String(e),h[e]||(h[e]={level:1,lastReviewedAt:"",nextReviewAt:"",correctCount:0,wrongCount:0}),h[e].lastReviewedAt=(new Date).toISOString(),t){h[e].correctCount+=1,h[e].level<4&&(h[e].level+=1);var n=[1,3,7,14][h[e].level-1]||14,r=new Date(Date.now()+864e5*n);h[e].nextReviewAt=r.toISOString()}else{h[e].wrongCount+=1,h[e].level=1;var a=new Date(Date.now()+864e5);h[e].nextReviewAt=a.toISOString()}VBData.srsMeta=h,VBStorage.setSrsMeta(h,(function(e){e&&G("í•™ìŠµ ë°ì´í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),"function"==typeof o&&o(e)}))}function B(){if(!g&&document.getElementById("quizModal")){if(c>=s)return G("í€´ì¦ˆë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤.\në§ì€ ê°œìˆ˜: "+p+", í‹€ë¦° ê°œìˆ˜: "+u),void C();var e=i.filter((function(e){return!m[String(e.word_id)]}));if(!e.length)return G("í€´ì¦ˆ ì¢…ë£Œ! ë§ì€ ê°œìˆ˜: "+p+", í‹€ë¦° ê°œìˆ˜: "+u),void C();var t=e[Math.floor(Math.random()*e.length)];m[String(t.word_id)]=1;var o=document.getElementById("quizStep"),n=document.getElementById("quizCorrect"),r=document.getElementById("quizWrong"),a=document.getElementById("quizSpell"),l=document.getElementById("quizPronounce");if(o&&(o.textContent=c+1+" / "+s),n&&(n.textContent=p),r&&(r.textContent=u),a&&(a.textContent=t.word),l&&(l.textContent=t.pronounce||""),!document.getElementById("quizSpeakBtnStyle")){var v=document.createElement("style");v.id="quizSpeakBtnStyle",v.innerHTML=".quizSpeakBtn{display:block;margin:14px auto 20px auto;padding:12px 0;width:30%;border-radius:13px;border:none;font-size:1.07em;font-weight:700;cursor:pointer;transition:background .18s,color .18s;background:#d9edfc;color:#195875;letter-spacing:0.01em;box-shadow:0 1px 8px rgba(80,130,160,0.09);outline:none;}body.dark-mode .quizSpeakBtn{background:#2c3540!important;color:#e0eaf7!important;border:1px solid #222!important;}.quizSpeakBtn:hover{background:#b9d9f6;color:#13425d;}body.dark-mode .quizSpeakBtn:hover{background:#49546a!important;color:#f8f8ff!important;}",document.head.appendChild(v)}l.parentNode.querySelectorAll(".quizSpeakBtn").forEach((function(e){e.parentNode.removeChild(e)}));var h=document.createElement("button");h.textContent="ğŸ”ˆ ë°œìŒ",h.title="ë‹¨ì–´ ë°œìŒ ë“£ê¸°",h.className="quizSpeakBtn",h.onclick=function(){t.word&&I(t.word)},l&&l.parentNode&&l.parentNode.insertBefore(h,l.nextSibling);var y=[t.word_list_mean],x=[],w={};w[t.word_list_mean]=1;for(var k=0;k<i.length;k++){var E=i[k];if(E&&E.word_id!==t.word_id){var S=E.word_list_mean;S&&(w[S]||(w[S]=1,x.push(S)))}}if(x.length<d-1)return G("ì´ ë²”ìœ„ì—ì„œëŠ” ì„œë¡œ ë‹¤ë¥¸ ëœ»ì´ ë¶€ì¡±í•´ í€´ì¦ˆ ë¬¸ì œë¥¼ ë§Œë“¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë²”ìœ„ë¥¼ ë” ë„“í˜€ì£¼ì„¸ìš”."),void C();for(;y.length<d;){var L=x[Math.floor(Math.random()*x.length)];-1===y.indexOf(L)&&y.push(L)}for(var z=y.length-1;z>0;z--){var O=Math.floor(Math.random()*(z+1)),N=y[z];y[z]=y[O],y[O]=N}y.push("ëª¨ë¥´ê² ìŒ (ì˜¤ë‹µì²˜ë¦¬)");var D=document.getElementById("quizChoices");D&&(D.innerHTML="");for(var _=0;_<y.length;_++)!function(e){var o=document.createElement("button");o.textContent=e,o.onclick=function(){if(!g){fe&&(clearInterval(fe),fe=null),o.blur();var a=e===t.word_list_mean;a?(te(),o.classList.add("correct"),p++):(o.classList.add("wrong"),u++,oe(),navigator.vibrate&&navigator.vibrate(500)),M(t.word_id,a);for(var i=D?D.getElementsByTagName("button"):[],d=0;d<i.length;d++)i[d].disabled=!0,i[d].textContent===t.word_list_mean&&i[d].classList.add("correct");n&&(n.textContent=p),r&&(r.textContent=u),setTimeout((function(){c++,g||B()}),850)}},D&&D.appendChild(o)}(y[_]);!function(){fe&&(clearInterval(fe),fe=null);f=b,T(),fe=setInterval((function(){if(f--,T(),f<=0){fe&&(clearInterval(fe),fe=null);var e=document.getElementById("quizChoices"),t=document.getElementById("quizSpell"),o=(document.getElementById("quizCorrect"),document.getElementById("quizWrong")),n=null;if(t){var r=t.textContent;n=function(e){for(var t=0;t<e.length;t++)if(e[t].word===r)return e[t];return null}(i)}if(n&&!g&&(M(n.word_id,!1),u++,oe(),navigator.vibrate&&navigator.vibrate(500)),e&&n)for(var a=e.getElementsByTagName("button"),d=0;d<a.length;d++)a[d].disabled=!0,n&&a[d].textContent===n.word_list_mean&&a[d].classList.add("correct");o&&(o.textContent=u),setTimeout((function(){c++,g||B()}),950)}}),1e3)}()}}function T(){var e=Math.max(f,0),t=document.getElementById("quizTimerNum"),o=document.getElementById("quizTimerBar");if(t&&o){t.textContent=e;var n=v*(1-e/b);o.setAttribute("stroke-dashoffset",n)}}}var ge=document.createElement("div");function he(e,t,o,n){var r=document.createElement("label"),a=document.createElement("input");a.type="checkbox",a.id=e,a.checked=!!n,a.onchange=o,r.appendChild(a),r.appendChild(document.createTextNode(" "+t)),ge.appendChild(r)}ge.style.cssText="display:flex;flex-wrap:wrap;gap:20px;justify-content:center",he("toggleExamples","ì˜ˆë¬¸ í‘œì‹œ",(function(e){q=e.target.checked;for(var t=document.getElementsByClassName("example-box"),o=0;o<t.length;o++)t[o].style.display=q?"block":"none";d()})),he("hideAllMeanings","ëœ» ìˆ¨ê¹€",(function(e){H=e.target.checked,R=!H,U={};for(var t=document.querySelectorAll(".word-card input.meaning-toggle"),o=0;o<t.length;o++){var n=t[o],r=n.parentNode?n.parentNode.querySelector(".meaning-text"):null;n.checked=!!R,r&&(r.style.display=n.checked?"inline":"none")}d()})),he("hideKnownWords","ì•„ëŠ” ë‹¨ì–´ ìˆ¨ê¹€",m,!0),r.appendChild(ge);var ye=document.createElement("div");ye.style.cssText="display:flex;gap:5px;justify-content:center;align-items: anchor-center;";var xe=document.createElement("input");xe.type="search",xe.placeholder="ë‹¨ì–´ ë˜ëŠ” ëœ» ì…ë ¥",xe.style.cssText="width:180px;padding:6px;font-size:1em";var we=null;function ke(){var e=xe.value.trim().toLowerCase();if(e){var t,o=[];for(t=0;t<w.length;t++)-1===(w[t].word||"").toLowerCase().indexOf(e)&&-1===(w[t].word_list_mean||"").toLowerCase().indexOf(e)||o.push(w[t]);o.length?(J(),A=o,_=0,u()):G("ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.")}else m()}xe.onkeyup=function(e){clearTimeout(we),we=setTimeout(ke,250),"Enter"===e.key&&ke()},ye.appendChild(xe),ye.appendChild(Y("ğŸ”ê²€ìƒ‰",ke));var Ce=document.createElement("button");Ce.id="toggleModeBtn";var Ee=document.createElement("span");Ee.className="icon-wrap";var Me=document.createElement("span");Me.textContent="ğŸŒ™";var Be=document.createElement("span");function Te(){VBStorage.getTheme((function(e,t){"dark"===(t||"light")?(document.body.classList.add("dark-mode"),Me.textContent="â˜€ï¸",Be.textContent="ğŸŒ™"):(document.body.classList.remove("dark-mode"),Me.textContent="ğŸŒ™",Be.textContent="â˜€ï¸")}))}Be.textContent="â˜€ï¸",Be.className="icon-prep",Ee.appendChild(Me),Ee.appendChild(Be),Ce.appendChild(Ee),VBStorage.getTheme((function(e,t){window.VBData.theme=t||"light",Te()})),Ce.onclick=function(){var e=document.body.classList.contains("dark-mode");Me.classList.add("icon-exit"),Be.classList.remove("icon-prep"),Be.classList.add("icon-enter"),setTimeout((function(){e?(document.body.classList.remove("dark-mode"),VBStorage.setTheme("light",(function(e){}))):(document.body.classList.add("dark-mode"),VBStorage.setTheme("dark",(function(e){})));var t=Me;Me=Be,(Be=t).className="icon-prep",Me.className=""}),400)},ye.appendChild(Ce),r.appendChild(ye),document.body.insertBefore(r,document.body.firstChild),w.length>0&&setTimeout((function(){document.querySelectorAll("#searchUI button").length>0&&ne("ë³´ê¸°")}),0),Te()}function $(){var t=document.getElementById("goTop"),o=document.getElementById("goBottom");function n(e,t,o,n){var r=document.createElement("button");r.id=e,r.innerHTML=t,r.style.cssText="position:fixed;right:15px;bottom:"+o+"px;width:40px;height:40px;font-size:20px;background:rgba(0,0,0,.35);color:#fff;border:none;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.25);cursor:pointer;z-index:999",r.onclick=n,document.body.appendChild(r)}t&&t.remove(),o&&o.remove(),n("goTop","â–²",70,(function(){g(),b(0),h(),document.documentElement.scrollTop=0,document.body.scrollTop=0,e.scrollTo(0,0),requestAnimationFrame((function(){void 0!==_&&(_=-1);try{W(!0)}catch(e){try{W(!1)}catch(e){}}v(80),y()}))})),n("goBottom","â–¼",20,(function(){g(),b(0),h();try{i()}catch(e){}var t=document.documentElement.scrollHeight||document.body.scrollHeight||0;try{document.documentElement.scrollTop=t}catch(e){}try{document.body.scrollTop=t}catch(e){}e.scrollTo(0,t),requestAnimationFrame((function(){void 0!==_&&(_=-1);try{W(!1)}catch(e){}var t,o;v(80),t=4,o=Math.max(1,t||3),requestAnimationFrame((function t(){if(f())--o>0&&requestAnimationFrame(t);else{var n=document.body.scrollHeight||document.documentElement.scrollHeight||0;(e.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)+(e.innerHeight||document.documentElement.clientHeight||0)+120>=n&&W(!1),--o>0&&requestAnimationFrame(t)}})),y(),setTimeout((function(){try{i()}catch(e){}var t=document.documentElement.scrollHeight||document.body.scrollHeight||0;try{document.documentElement.scrollTop=t}catch(e){}try{document.body.scrollTop=t}catch(e){}try{e.scrollTo(0,t)}catch(e){}try{W(!1)}catch(e){}d()}),0)}))})),re()}!function(){function e(e){return"PageDown"===e||"PageUp"===e||"Home"===e||"End"===e}window.addEventListener("keydown",(function(t){var o;t&&e(t.key)&&(p=t.key,s++,b(160),o=s,setTimeout((function(){o===s&&p&&(p=null)}),220))}),!1),window.addEventListener("keyup",(function(t){t&&e(t.key)&&(p===t.key&&(p=null),b(120))}),!1),window.addEventListener("wheel",(function(){b(140)}),{passive:!0}),document.addEventListener("mousedown",(function(){b(160)}),!0),document.addEventListener("touchstart",(function(){b(180)}),{passive:!0,capture:!0})}();var Z,ee=function(){var e=null;function t(){if(!e){var t=window.AudioContext||window.webkitAudioContext;t&&(e=new t)}return e}function o(){var e=t();if(!e)return!1;if("suspended"===e.state)try{e.resume()}catch(e){}return!0}function n(e,o,n,r,a,i,d,l){var c=t();if(c){var s=c.createOscillator(),p=c.createGain();s.type=e,s.frequency.setValueAtTime(o,n),p.gain.setValueAtTime(0,n),p.gain.linearRampToValueAtTime(r,a),p.gain.exponentialRampToValueAtTime(i,d),s.connect(p),p.connect(c.destination),s.start(n),s.stop(l)}}return{unlock:o,select:function(){if(o()){var n=e.currentTime;!function(e,o,n,r,a,i,d){var l=t();if(l){var c=l.createOscillator(),s=l.createGain();c.type=e,c.frequency.setValueAtTime(o,n),s.gain.setValueAtTime(r,n),s.gain.exponentialRampToValueAtTime(a,i),c.connect(s),s.connect(l.destination),c.start(n),c.stop(d)}}("sine",800,n,.05,.01,n+.05,n+.05)}},correct:function(){if(o())for(var t=e.currentTime,r=[523.25,659.25,783.99],a=0;a<r.length;a++){var i=t+.08*a;n("sine",r[a],i,.1,i+.02,.01,i+.25,i+.3)}},wrong:function(){if(o())for(var t=e.currentTime,r=[220,196],a=0;a<r.length;a++){var i=t+.12*a;n("triangle",r[a],i,.08,i+.01,.01,i+.2,i+.25)}}}}();function te(){ee.correct()}function oe(){ee.wrong()}function ne(e){for(var t=document.querySelectorAll("#searchUI button"),o=0;o<t.length;o++){if(-1!==(t[o].textContent||"").indexOf(e))return void t[o].click()}G('ìƒë‹¨ "'+e+'" ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')}function re(){function e(e,t){e.style.position="fixed",e.style.right="15px",e.style.bottom=t+"px",e.style.width="40px",e.style.height="40px",e.style.fontSize="20px",e.style.background="rgba(0,0,0,.35)",e.style.color="#fff",e.style.border="none",e.style.borderRadius="12px",e.style.boxShadow="0 2px 6px rgba(0,0,0,.25)",e.style.cursor="pointer",e.style.zIndex=999,e.style.opacity="0",e.style.pointerEvents="none",e.style.transform="translateY(20px) scale(0.7)",e.style.transition="opacity .25s cubic-bezier(.33,1.42,.54,1.01), transform .25s cubic-bezier(.33,1.42,.54,1.01)"}if(!document.getElementById("goMemo")){var n=document.createElement("button");n.id="goMemo",n.title="ë©”ëª¨",n.innerHTML="ğŸ“",e(n,320),n.onclick=function(){!function(){function e(){try{le()}catch(e){}try{document&&document.documentElement&&null!=document.documentElement.__vbMemoPrevOverflow&&(document.documentElement.style.overflow=document.documentElement.__vbMemoPrevOverflow,document.documentElement.__vbMemoPrevOverflow=null)}catch(e){}try{document&&document.body&&(null!=document.body.__vbMemoPrevOverflow&&(document.body.style.overflow=document.body.__vbMemoPrevOverflow,document.body.__vbMemoPrevOverflow=null),null!=document.body.__vbMemoPrevTouchAction&&(document.body.style.touchAction=document.body.__vbMemoPrevTouchAction,document.body.__vbMemoPrevTouchAction=null),null!=document.body.__vbMemoPrevOverscroll&&(document.body.style.overscrollBehavior=document.body.__vbMemoPrevOverscroll,document.body.__vbMemoPrevOverscroll=null))}catch(e){}try{var e=document&&document.body?document.body.__vbMemoGlobalTouchMoveHandler:null;if(e){try{document.removeEventListener("touchstart",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchstart",e,!0)}catch(e){}}try{document.removeEventListener("touchmove",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchmove",e,!0)}catch(e){}}try{document.removeEventListener("touchend",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchend",e,!0)}catch(e){}}try{document.removeEventListener("touchcancel",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchcancel",e,!0)}catch(e){}}try{document.removeEventListener("touchmove",e,{passive:!1})}catch(t){try{document.removeEventListener("touchmove",e,!1)}catch(e){}}document.body.__vbMemoGlobalTouchMoveHandler=null}}catch(e){}}var t=document.getElementById("vbMemoOverlay");if(t){try{t.__vbMemoDestroy&&t.__vbMemoDestroy()}catch(e){}try{t.parentNode&&t.parentNode.removeChild(t)}catch(e){}e()}else e();function o(){return!!("ontouchstart"in window||navigator.maxTouchPoints&&navigator.maxTouchPoints>0)&&window.innerWidth<=900}function n(){try{document.activeElement&&document.activeElement.blur&&document.activeElement.blur()}catch(e){}}function r(e){try{e&&e.blur&&e.blur()}catch(e){}n(),setTimeout((function(){try{e&&e.blur&&e.blur()}catch(e){}n()}),0)}function a(){var e="";try{e=null!=g.innerText?g.innerText:g.textContent||""}catch(t){e=g.textContent||""}e&&0!==e.length||(g.innerHTML="<br>")}function i(){try{var e=window.getSelection?window.getSelection():null;e&&e.removeAllRanges&&e.removeAllRanges()}catch(e){}}function d(e){if(!e)return!1;try{e.preventDefault&&e.preventDefault()}catch(e){}try{e.stopPropagation&&e.stopPropagation()}catch(e){}return e.returnValue=!1,!1}function l(){if(L()&&document&&document.body&&!document.body.__vbMemoGlobalTouchMoveHandler){var e=function(e){if("draw"===oe&&(Re||Ue))return i(),d(e),!1};document.body.__vbMemoGlobalTouchMoveHandler=e;try{document.addEventListener("touchstart",e,{passive:!1,capture:!0})}catch(t){try{document.addEventListener("touchstart",e,!0)}catch(e){}}try{document.addEventListener("touchmove",e,{passive:!1,capture:!0})}catch(t){try{document.addEventListener("touchmove",e,!0)}catch(e){}}try{document.addEventListener("touchend",e,{passive:!1,capture:!0})}catch(t){try{document.addEventListener("touchend",e,!0)}catch(e){}}try{document.addEventListener("touchcancel",e,{passive:!1,capture:!0})}catch(t){try{document.addEventListener("touchcancel",e,!0)}catch(e){}}}}function c(){if(document&&document.body){var e=document.body.__vbMemoGlobalTouchMoveHandler;if(e){try{document.removeEventListener("touchstart",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchstart",e,!0)}catch(e){}}try{document.removeEventListener("touchmove",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchmove",e,!0)}catch(e){}}try{document.removeEventListener("touchend",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchend",e,!0)}catch(e){}}try{document.removeEventListener("touchcancel",e,{passive:!1,capture:!0})}catch(t){try{document.removeEventListener("touchcancel",e,!0)}catch(e){}}try{document.removeEventListener("touchmove",e,{passive:!1})}catch(t){try{document.removeEventListener("touchmove",e,!1)}catch(e){}}document.body.__vbMemoGlobalTouchMoveHandler=null}}}function s(e,t,o,n){if(e&&e.style){var r="__vbMemoPrev_"+n;null==e[r]&&(e[r]=e.style[t]),e.style[t]=o}}function p(e,t,o){if(e&&e.style){var n="__vbMemoPrev_"+o;null!=e[n]?(e.style[t]=e[n],e[n]=null):e.style[t]=""}}var u=document.createElement("div");u.id="vbMemoOverlay",u.style.cssText="position:fixed;left:0;top:0;right:0;bottom:0;z-index:12000;background:rgba(0,0,0,0.55);display:flex;align-items:center;justify-content:center;box-sizing:border-box;padding:20px;backdrop-filter:blur(7px) !important;";try{u.style.paddingTop="calc(20px + env(safe-area-inset-top))",u.style.paddingBottom="calc(20px + env(safe-area-inset-bottom))",u.style.paddingLeft="calc(20px + env(safe-area-inset-left))",u.style.paddingRight="calc(20px + env(safe-area-inset-right))"}catch(e){}function m(e){e&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}u.addEventListener("wheel",m,{passive:!1});var b=document.createElement("div");b.id="vbMemoModal",b.style.cssText="width:96vw;max-width:920px;height:92vh;max-height:860px;background:#fff;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,0.35);display:flex;flex-direction:column;overflow:hidden;box-sizing:border-box;";var f=document.createElement("div");f.style.cssText="flex:1;display:flex;align-items:center;justify-content:center;background:#f2f2f2;padding:20px;overflow:hidden;box-sizing:border-box;";var v=document.createElement("div");v.style.cssText="position:relative;background:#fff;box-shadow:0 0 10px rgba(0,0,0,0.18);width:794px;height:1123px;max-width:100%;max-height:100%;overflow:hidden;";var g=document.createElement("div");g.id="vbMemoTextLayer",g.setAttribute("contenteditable","true");var h=L()?18:16;g.style.cssText="position:absolute;left:0;top:0;right:0;bottom:0;padding:22px;box-sizing:border-box;outline:none;z-index:1;white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere;font-size:"+h+"px;line-height:1.45;color:#111;caret-color:#111;-webkit-user-select:text;user-select:text;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;pointer-events:auto;";var y=document.createElement("canvas");y.id="vbMemoCanvas",y.style.cssText="position:absolute;left:0;top:0;right:0;bottom:0;z-index:2;touch-action:none;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;pointer-events:auto;",v.appendChild(g),v.appendChild(y),f.appendChild(v);var x=document.createElement("div");x.style.cssText="position:relative;background:#fff;border-top:1px solid #e5e5e5;box-sizing:border-box;";var w=document.createElement("div");w.style.cssText="display:flex;align-items:center;gap:10px;padding:10px;box-sizing:border-box;";var k=document.createElement("div");k.textContent="ì…ë ¥ ëª¨ë“œ",k.style.cssText="flex:0 0 auto;font-size:13px;font-weight:700;color:#333;-webkit-user-select:none;user-select:none;-webkit-touch-callout:none;";var C=document.createElement("select");C.style.cssText="flex:1;height:36px;border:1px solid #ddd;border-radius:10px;padding:0 10px;font-size:14px;outline:none;background:#fff;color:#111;";var E=document.createElement("option");E.value="type",E.textContent="íƒ€ì´í•‘ (í…ìŠ¤íŠ¸ ì…ë ¥)";var M=document.createElement("option");M.value="draw",M.textContent="ë“œë¡œì‰ (ê·¸ë¦¬ê¸°)",C.appendChild(E),C.appendChild(M);var B=document.createElement("button");B.type="button",B.textContent="íœ",B.setAttribute("aria-haspopup","dialog"),B.setAttribute("aria-expanded","false"),B.title="íœ ì„¤ì •",B.style.cssText="width:56px;height:36px;border:1px solid #ddd;border-radius:10px;background:#fff;color:#111;font-size:14px;font-weight:700;cursor:pointer;display:none;opacity:0;transform:translate3d(0,8px,0) scale(0.98);will-change:opacity,transform,border-color;transition:opacity 220ms cubic-bezier(.2,.8,.2,1),transform 260ms cubic-bezier(.2,.9,.2,1),border-color 180ms ease;",w.appendChild(k),w.appendChild(C),w.appendChild(B),function(){var e="vbMemoToolPanelCss";if(!document.getElementById(e)){var t='#vbMemoOverlay .vbMemoToolHead{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px;}#vbMemoOverlay .vbMemoToolTitle{font-size:13px;font-weight:900;color:#333;}#vbMemoOverlay .vbMemoToolClose{all:unset;-webkit-appearance:none;appearance:none;width:30px;height:30px;border-radius:9px;box-sizing:border-box;cursor:pointer;position:relative;background:#eaf2fb;}#vbMemoOverlay .vbMemoToolClose::before,#vbMemoOverlay .vbMemoToolClose::after{content:"";position:absolute;top:50%;left:50%;width:16px;height:3px;background:#2b3a4a;border-radius:3px;transform-origin:center;}#vbMemoOverlay .vbMemoToolClose::before{transform:translate(-50%,-50%) rotate(45deg);}#vbMemoOverlay .vbMemoToolClose::after{transform:translate(-50%,-50%) rotate(-45deg);}#vbMemoOverlay .vbMemoToolClose:hover{background:#cfe3f8;box-shadow:0 5px 14px rgba(15,23,42,0.22);}#vbMemoOverlay .vbMemoToolClose:hover::before,#vbMemoOverlay .vbMemoToolClose:hover::after{background:#1e2a36;}',o=document.createElement("style");o.id=e,o.type="text/css";try{o.appendChild(document.createTextNode(t))}catch(e){o.textContent=t}var n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;try{n.appendChild(o)}catch(e){try{document.documentElement.appendChild(o)}catch(e){}}}}();var T=document.createElement("div");T.style.cssText="position:absolute;left:10px;right:10px;bottom:10px;background:#fff;border:1px solid #ddd;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.18);padding:10px;box-sizing:border-box;display:none;z-index:5;";var S=document.createElement("div");S.className="vbMemoToolHead";var z=document.createElement("div");z.className="vbMemoToolTitle",z.textContent="íœ ì„¤ì •";var I=document.createElement("button");I.type="button",I.className="vbMemoToolClose",I.setAttribute("aria-label","ë‹«ê¸°"),S.appendChild(z),S.appendChild(I);var O=document.createElement("div");O.style.cssText="display:flex;align-items:center;gap:10px;margin-bottom:10px;";var N=document.createElement("div");N.textContent="ë„êµ¬",N.style.cssText="flex:0 0 auto;font-size:12px;font-weight:800;color:#555;";var D=document.createElement("div");D.style.cssText="flex:1;display:flex;align-items:stretch;overflow:hidden;border:1px solid #ddd;border-radius:10px;height:32px;background:#f7f7f7;";var _=document.createElement("button");_.type="button",_.textContent="íœ",_.setAttribute("aria-pressed","true"),_.style.cssText="flex:1;border:none;background:#fff;color:#111;font-size:13px;font-weight:900;cursor:pointer;";var A=document.createElement("button");A.type="button",A.textContent="ì§€ìš°ê°œ",A.setAttribute("aria-pressed","false"),A.style.cssText="flex:1;border:none;background:transparent;color:#666;font-size:13px;font-weight:900;cursor:pointer;",D.appendChild(_),D.appendChild(A),O.appendChild(N),O.appendChild(D);var V=document.createElement("div");V.style.cssText="display:flex;align-items:center;gap:10px;margin-bottom:10px;";var P=document.createElement("div");P.textContent="ìƒ‰ìƒ",P.style.cssText="flex:0 0 auto;font-size:12px;font-weight:800;color:#555;";var q=document.createElement("input");q.type="color",q.value="#000000",q.style.cssText="flex:0 0 auto;width:44px;height:30px;border:none;background:transparent;padding:0;";var H=document.createElement("div");H.style.cssText="display:flex;align-items:center;gap:10px;";var R=document.createElement("div");R.textContent="êµµê¸°",R.style.cssText="flex:0 0 auto;font-size:12px;font-weight:800;color:#555;";var U=document.createElement("input");U.type="range",U.min="1",U.max="12",U.step="1",U.value="2",U.style.cssText="flex:1;";var j=document.createElement("div");j.textContent="2",j.style.cssText="flex:0 0 auto;font-size:12px;font-weight:900;color:#111;width:24px;text-align:right;",V.appendChild(P),V.appendChild(q),H.appendChild(R),H.appendChild(U),H.appendChild(j),T.appendChild(S),T.appendChild(O),T.appendChild(V),T.appendChild(H),x.appendChild(T),I.onclick=function(e){try{e&&e.stopPropagation&&e.stopPropagation()}catch(e){}de()};var F=document.createElement("div");function Q(e,t){var o=document.createElement("button");return o.type="button",o.textContent=e,o.style.cssText="flex:1;height:44px;border:none;border-radius:12px;font-size:15px;font-weight:700;cursor:pointer;background:"+t+";color:#111;",o}F.style.cssText="display:flex;gap:10px;padding:10px;background:#fff;box-sizing:border-box;";var W=Q("ì „ì²´ ì‚­ì œ","#f3f3f3"),K=Q("ì €ì¥","#c8f3e7"),Y=Q("ë‹«ê¸°","#f3f3f3");F.appendChild(K),F.appendChild(W),F.appendChild(Y),x.appendChild(w),x.appendChild(F),b.appendChild(f),b.appendChild(x),u.appendChild(b),document.body.appendChild(u);var J="#000000",X=2,$="pen";function Z(){try{z&&(z.textContent="eraser"===$?"ì§€ìš°ê°œ ì„¤ì •":"íœ ì„¤ì •")}catch(e){}try{_&&("pen"===$?(_.setAttribute("aria-pressed","true"),_.style.background="#fff",_.style.color="#111",_.style.boxShadow="inset 0 0 0 1px rgba(15,23,42,0.06)"):(_.setAttribute("aria-pressed","false"),_.style.background="transparent",_.style.color="#666",_.style.boxShadow="none")),A&&("eraser"===$?(A.setAttribute("aria-pressed","true"),A.style.background="#fff",A.style.color="#111",A.style.boxShadow="inset 0 0 0 1px rgba(15,23,42,0.06)"):(A.setAttribute("aria-pressed","false"),A.style.background="transparent",A.style.color="#666",A.style.boxShadow="none"))}catch(e){}try{V&&("eraser"===$?(V.style.opacity="0.45",V.style.pointerEvents="none"):(V.style.opacity="1",V.style.pointerEvents="auto"))}catch(e){}try{Ae()}catch(e){}try{te()}catch(e){}}function ee(e){"pen"!==e&&"eraser"!==e||($=e,Z())}function te(){try{var e="eraser"===$?"#888888":J;B.style.background="linear-gradient(90deg,"+e+" 0 8px, #fff 8px 100%)"}catch(e){}}_.onclick=function(e){try{e&&e.stopPropagation&&e.stopPropagation()}catch(e){}ee("pen")},A.onclick=function(e){try{e&&e.stopPropagation&&e.stopPropagation()}catch(e){}ee("eraser")};var oe="type",ne=!1,re=!1;function ae(e){try{if(!B)return;e?(B.style.borderColor="#2b3a4a",B.style.boxShadow="0 4px 12px rgba(15,23,42,0.16)"):(B.style.borderColor="#ddd",B.style.boxShadow="none")}catch(e){}}function ie(){re=!0;try{B.setAttribute("aria-expanded","true")}catch(e){}ae(!0);try{Z()}catch(e){}T.style.display="block"}function de(){re=!1;try{B.setAttribute("aria-expanded","false")}catch(e){}ae(!1),T.style.display="none"}function ce(){re?de():ie()}function se(e){if(re){var t=e&&e.target?e.target:null;t&&t!==B&&(B&&B.contains&&B.contains(t)||T&&(T===t||T.contains&&T.contains(t))||de())}}function pe(){"draw"===oe&&i()}function ue(){if(!ne){ne=!0;try{f.style.webkitUserSelect="none",f.style.userSelect="none",f.style.webkitTouchCallout="none",f.style.webkitTapHighlightColor="transparent"}catch(e){}try{v.style.webkitUserSelect="none",v.style.userSelect="none",v.style.webkitTouchCallout="none"}catch(e){}L()&&(s(u,"webkitUserSelect","none","ov_wus"),s(u,"userSelect","none","ov_us"),s(u,"webkitTouchCallout","none","ov_call"),s(b,"webkitUserSelect","none","bx_wus"),s(b,"userSelect","none","bx_us"),s(b,"webkitTouchCallout","none","bx_call"),s(x,"webkitUserSelect","none","ft_wus"),s(x,"userSelect","none","ft_us"),s(x,"webkitTouchCallout","none","ft_call"),s(w,"webkitUserSelect","none","mr_wus"),s(w,"userSelect","none","mr_us"),s(w,"webkitTouchCallout","none","mr_call"),s(F,"webkitUserSelect","none","br_wus"),s(F,"userSelect","none","br_us"),s(F,"webkitTouchCallout","none","br_call"),l());try{f.addEventListener("contextmenu",d,{passive:!1})}catch(e){try{f.addEventListener("contextmenu",d,!1)}catch(e){}}try{f.addEventListener("selectstart",d,!1)}catch(e){}try{f.addEventListener("dragstart",d,!1)}catch(e){}try{f.addEventListener("gesturestart",d,{passive:!1})}catch(e){try{f.addEventListener("gesturestart",d,!1)}catch(e){}}try{y.addEventListener("contextmenu",d,{passive:!1})}catch(e){try{y.addEventListener("contextmenu",d,!1)}catch(e){}}try{y.addEventListener("selectstart",d,!1)}catch(e){}try{y.addEventListener("dragstart",d,!1)}catch(e){}try{document.addEventListener("selectionchange",pe,!1)}catch(e){}}}function me(){if(ne){ne=!1;try{f.style.webkitUserSelect="",f.style.userSelect="",f.style.webkitTouchCallout="",f.style.webkitTapHighlightColor=""}catch(e){}try{v.style.webkitUserSelect="",v.style.userSelect="",v.style.webkitTouchCallout=""}catch(e){}L()&&(p(u,"webkitUserSelect","ov_wus"),p(u,"userSelect","ov_us"),p(u,"webkitTouchCallout","ov_call"),p(b,"webkitUserSelect","bx_wus"),p(b,"userSelect","bx_us"),p(b,"webkitTouchCallout","bx_call"),p(x,"webkitUserSelect","ft_wus"),p(x,"userSelect","ft_us"),p(x,"webkitTouchCallout","ft_call"),p(w,"webkitUserSelect","mr_wus"),p(w,"userSelect","mr_us"),p(w,"webkitTouchCallout","mr_call"),p(F,"webkitUserSelect","br_wus"),p(F,"userSelect","br_us"),p(F,"webkitTouchCallout","br_call"),c());try{f.removeEventListener("contextmenu",d,!1)}catch(e){}try{f.removeEventListener("selectstart",d,!1)}catch(e){}try{f.removeEventListener("dragstart",d,!1)}catch(e){}try{f.removeEventListener("gesturestart",d,!1)}catch(e){}try{y.removeEventListener("contextmenu",d,!1)}catch(e){}try{y.removeEventListener("selectstart",d,!1)}catch(e){}try{y.removeEventListener("dragstart",d,!1)}catch(e){}try{document.removeEventListener("selectionchange",pe,!1)}catch(e){}}}function be(){B.style.display="block",B.style.pointerEvents="auto",B.style.opacity="0",B.style.transform="translateY(4px)",setTimeout((function(){B.style.opacity="1",B.style.transform="translateY(0)"}),0)}function fe(){de(),B.style.pointerEvents="none",B.style.opacity="0",B.style.transform="translateY(4px)",setTimeout((function(){B.style.display="none"}),200)}function ve(){if(g.style.userSelect="text",oe="type",de(),fe(),y.style.pointerEvents="none",y.style.cursor="default",g.style.pointerEvents="auto",g.setAttribute("contenteditable","true"),g.style.caretColor="#111",g.style.webkitUserSelect="text",g.style.userSelect="text",me(),a(),!o())try{g.focus()}catch(e){}}function ge(){oe="draw",de(),be(),te();try{Z()}catch(e){}r(g),g.setAttribute("contenteditable","false"),g.style.pointerEvents="none",g.style.caretColor="transparent",g.style.webkitUserSelect="none",g.style.userSelect="none";try{g.style.webkitTouchCallout="none"}catch(e){}y.style.pointerEvents="auto",y.style.cursor="crosshair",i(),ue()}function he(e){try{Re=!1,Ue=!1}catch(e){}"draw"===e?ge():ve();try{C.value=oe}catch(e){}}B.onclick=function(){"draw"===oe&&ce()},C.value="type",C.onchange=function(){var e="type";try{e=C.value}catch(t){e="type"}he(e),G("draw"===e?"ë“œë¡œì‰ ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤":"íƒ€ì´í•‘ ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤")};var ye=20,xe=20,we=794,ke=1123,Ce=1123,Ee=794,Me=we,Be=ke;function Te(e){var t=parseFloat(e);return isNaN(t)?0:t}function Se(){var e=u.getBoundingClientRect(),t=null;try{t=window.getComputedStyle?window.getComputedStyle(u,null):null}catch(e){t=null}var o=t?Te(t.paddingTop):ye,n=t?Te(t.paddingBottom):ye,r=t?Te(t.paddingLeft):ye,a=t?Te(t.paddingRight):ye;return{w:Math.max(100,e.width-r-a),h:Math.max(100,e.height-o-n)}}function Le(e,t,o,n){var r=o,a=Math.floor(r*t/e);return a>n&&(a=n,r=Math.floor(a*e/t)),r<1&&(r=1),a<1&&(a=1),{w:r,h:a}}function ze(){f.style.padding=xe+"px";var e=Se(),t=Math.max(320,e.w),o=Math.max(360,e.h);b.style.maxWidth="none",b.style.maxHeight="none";var n=x&&x.offsetHeight?x.offsetHeight:140,r=Math.max(100,o-n-2*xe),a=Math.max(100,t-2*xe),i=Le(we,ke,a,r),d=Le(Ce,Ee,a,r);d.w*d.h>i.w*i.h?(Me=Ce,Be=Ee):(Me=we,Be=ke);var l=Le(Me,Be,a,r),c=Math.min(t,Math.max(320,l.w+2*xe)),s=Math.min(o,Math.max(240,n+l.h+2*xe));b.style.width=c+"px",b.style.height=s+"px";try{var p=F&&F.offsetHeight?F.offsetHeight:64,u=w&&w.offsetHeight?w.offsetHeight:56;T.style.bottom=p+u+10+"px"}catch(e){}}var Ie=window.VBData&&VBData.srsMeta&&VBData.srsMeta.__vb_memo?VBData.srsMeta.__vb_memo:null,Oe={text:Ie&&Ie.text?Ie.text:"",drawing:Ie&&Ie.drawing?Ie.drawing:null};try{g.innerText=Oe.text||""}catch(e){g.textContent=Oe.text||""}function Ne(){try{if(document.execCommand)return void document.execCommand("insertLineBreak")}catch(e){}try{document.execCommand&&document.execCommand("insertHTML",!1,"<br>")}catch(e){}}g.addEventListener("beforeinput",(function(e){if("type"===oe&&e&&("insertParagraph"===e.inputType||"insertLineBreak"===e.inputType)){try{e.preventDefault()}catch(e){}Ne()}})),g.addEventListener("keydown",(function(e){if("type"===oe&&e){var t=e.key||e.keyCode;if("Enter"===t||13===t){try{e.preventDefault()}catch(e){}Ne()}}})),g.addEventListener("input",(function(){"type"===oe&&setTimeout((function(){a()}),0)})),a();var De=y.getContext("2d"),_e=!(!Oe.drawing||!Oe.drawing.dataUrl);function Ae(){De&&(De.lineWidth=X,De.lineCap="round",De.lineJoin="round",De.miterLimit=2,"eraser"===$?(De.globalCompositeOperation="destination-out",De.strokeStyle="rgba(0,0,0,1)"):(De.globalCompositeOperation="source-over",De.strokeStyle=J))}function Ve(){De.clearRect(0,0,v.clientWidth,v.clientHeight)}function Pe(){if(Ve(),Oe.drawing&&Oe.drawing.dataUrl){var e=new Image;e.onload=function(){Ve();try{De.save()}catch(e){}try{De.globalCompositeOperation="source-over"}catch(e){}De.drawImage(e,0,0,v.clientWidth,v.clientHeight);try{De.restore()}catch(e){}},e.src=Oe.drawing.dataUrl}}function qe(){if(_e)try{Oe.drawing={dataUrl:y.toDataURL("image/png"),w:y.width,h:y.height}}catch(e){}else Oe.drawing=null}function He(){var e=Math.max(100,f.clientWidth-2*xe),t=Math.max(100,f.clientHeight-2*xe),o=e,n=Math.floor(o*Be/Me);n>t&&(n=t,o=Math.floor(n*Me/Be)),v.style.width=o+"px",v.style.height=n+"px";var r=window.devicePixelRatio||1;y.style.width=v.clientWidth+"px",y.style.height=v.clientHeight+"px",y.width=Math.floor(v.clientWidth*r),y.height=Math.floor(v.clientHeight*r),De.setTransform(r,0,0,r,0,0),Ae(),Pe()}var Re=!1,Ue=!1;function je(e){var t=y.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}var Fe=null;function Qe(e,t){Ue=!0,De.beginPath(),De.moveTo(e,t)}function We(e,t){Ue&&(De.lineTo(e,t),De.stroke(),De.beginPath(),De.moveTo(e,t),_e=!0)}function Ke(){Re=!1,Ue=!1,qe()}function Ge(e){if("draw"===oe){d(e),Re=!0,Fe=e.pointerId;var t=je(e);Qe(t.x,t.y);try{y.setPointerCapture(e.pointerId)}catch(e){}}}function Ye(e){if("draw"===oe&&(d(e),Re&&Ue&&(null===Fe||e.pointerId===Fe))){var t=je(e);We(t.x,t.y)}}function Je(e){if("draw"===oe&&(d(e),null===Fe||e.pointerId===Fe)){Re=!1,Fe=null,Ke();try{y.releasePointerCapture(e.pointerId)}catch(e){}}}function Xe(e){if("draw"!==oe)return Re=!1,void(Ue=!1);Re&&(Ke(),e&&d(e),setTimeout(i,0))}function $e(){Ue&&Ke(),ze(),He()}function Ze(){window.PointerEvent?(y.addEventListener("pointerdown",Ge,{passive:!1}),y.addEventListener("pointermove",Ye,{passive:!1}),window.addEventListener("pointerup",Je,{passive:!1}),window.addEventListener("pointercancel",Xe,{passive:!1})):(y.addEventListener("touchstart",(function(e){if("draw"===oe){i(),de();var t=e.touches&&e.touches[0]?e.touches[0]:null;t&&(Re=!0,Qe(t.clientX-y.getBoundingClientRect().left,t.clientY-y.getBoundingClientRect().top),d(e))}}),{passive:!1}),y.addEventListener("touchmove",(function(e){if("draw"===oe&&Re&&Ue){var t=e.touches&&e.touches[0]?e.touches[0]:null;t&&(We(t.clientX-y.getBoundingClientRect().left,t.clientY-y.getBoundingClientRect().top),d(e))}}),{passive:!1}),window.addEventListener("touchend",(function(e){if("draw"!==oe)return Re=!1,void(Ue=!1);Re&&(Ke(),d(e))}),{passive:!1}),window.addEventListener("touchcancel",(function(e){if("draw"!==oe)return Re=!1,void(Ue=!1);Re&&(Ke(),d(e))}),{passive:!1})),window.addEventListener("resize",$e,!1);try{u.addEventListener("mousedown",se,!1)}catch(e){}try{u.addEventListener("touchstart",se,{passive:!0})}catch(e){try{u.addEventListener("touchstart",se,!1)}catch(e){}}}function et(){window.PointerEvent&&(y.removeEventListener("pointerdown",Ge),y.removeEventListener("pointermove",Ye),window.removeEventListener("pointerup",Je),window.removeEventListener("pointercancel",Xe)),window.removeEventListener("resize",$e,!1);try{u.removeEventListener("mousedown",se,!1)}catch(e){}try{u.removeEventListener("touchstart",se,!1)}catch(e){}try{u.removeEventListener("touchstart",se,{passive:!0})}catch(e){}}q.oninput=function(){J=q.value||"#000000",Ae(),te()},U.oninput=function(){var e=parseInt(U.value,10);(isNaN(e)||e<1)&&(e=1),e>12&&(e=12),X=e,j.textContent=String(e),Ae()},setTimeout((function(){if(ze(),He(),Ze(),he("type"),!o())try{g.focus()}catch(e){}}),0),W.onclick=function(){Ue&&Ke();try{g.innerHTML="<br>"}catch(e){}Ve(),Oe.text="",Oe.drawing=null,_e=!1,"function"==typeof captureLastGood&&captureLastGood(),he(oe),G("ë©”ëª¨ë¥¼ ì§€ì› ìŠµë‹ˆë‹¤. ì €ì¥ í›„ì—ëŠ” ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")},K.onclick=function(){Ue&&Ke();var e="";try{e=null!=g.innerText?g.innerText:g.textContent||""}catch(t){e=g.textContent||""}var t={text:e||"",drawing:null};if(_e)try{t.drawing={dataUrl:y.toDataURL("image/png"),w:y.width,h:y.height}}catch(e){t.drawing=null}window.VBStorage&&"function"==typeof VBStorage.getSrsMeta&&"function"==typeof VBStorage.setSrsMeta?VBStorage.getSrsMeta((function(e,o){var n=o||{};n.__vb_memo=t,VBStorage.setSrsMeta(n,(function(e){e?G("ë©”ëª¨ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."):(VBData.srsMeta=n,Oe.text=t.text,Oe.drawing=t.drawing,_e=!!t.drawing,G("ë©”ëª¨ ì €ì¥ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤."))}))})):G("VBStorageë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")};var tt=!1;function ot(){if(!tt){tt=!0;try{Re=!1,Ue=!1}catch(e){}try{r(g)}catch(e){}de(),me(),i();try{c()}catch(e){}et();try{u&&u.parentNode&&u.parentNode.removeChild(u)}catch(e){}e()}}u.__vbMemoDestroy=ot,Y.onclick=ot}()},document.body.appendChild(n)}if(!document.getElementById("goShuffle")){var r=document.createElement("button");r.id="goShuffle",r.title="ì…”í”Œ",r.innerHTML="ğŸ”€",e(r,270),r.onclick=function(){ne("ì…”í”Œ")},document.body.appendChild(r)}if(!document.getElementById("goReview")){var a=document.createElement("button");a.id="goReview",a.title="ë³µìŠµ",a.innerHTML="ğŸ”",e(a,220),a.onclick=function(){ne("ë³µìŠµ")},document.body.appendChild(a)}if(!document.getElementById("goStats")){var i=document.createElement("button");i.id="goStats",i.title="ë‹¨ì–´ì¥ í†µê³„",i.innerHTML="ğŸ“Š",e(i,170),i.onclick=function(){!function(){var e=document.body.classList.contains("dark-mode"),n=e?"#71ffe2":"#178c7a",r=e?"#ffd1d7":"#e24e5c",a=e?"#17352d":"#e6fff5",i=e?"#e8fffa":"#197969",d=Array.isArray(w)?w.length:0,l=Array.isArray(VBData.reviewIds)?VBData.reviewIds.length:0,c=Array.isArray(VBData.knownIds)?VBData.knownIds.length:0,s=VBData.srsMeta||{},p=[];for(var u in s)if(s.hasOwnProperty(u)){var m=s[u];if(m&&m.wrongCount>0){var b=+u;p.push({id:b,word:window.wordMap&&window.wordMap[b]?window.wordMap[b].word:"",wrongCount:m.wrongCount})}}p.sort((function(e,t){return e.wrongCount!==t.wrongCount?t.wrongCount-e.wrongCount:e.id-t.id}));var f=document.createElement("div");f.id="statsModalBg",f.className="vbOverlay",f.style.zIndex="99998";var v=document.createElement("div");v.id="statsModal",v.style="background:"+(e?"#23332c":"#fff")+";border-radius:18px;box-shadow:0 7px 32px #4445;padding:1em 1em 0.5em 1em;min-width:300px;max-width:96vw;text-align:left;font-family:inherit;position:relative;overflow:visible;animation:fadeInUp .23s cubic-bezier(.33,1.42,.54,1.01);";var g=document.createElement("h2");g.textContent="ë‹¨ì–´ì¥ í†µê³„",g.style="margin:0 0 18px 0;font-size:1.14em;font-weight:700;letter-spacing:-1px;color:"+(e?"#71ffe2":"#11ab78")+";",v.appendChild(g);var h=document.createElement("div");function y(t,o){var n=document.createElement("div");return n.textContent=t,n.style="flex:1 1 0;padding:0.62em 0;text-align:center;font-size:1.05em;cursor:pointer;font-weight:700;background:"+(o?e?"#28b49c":"#a2e4d7":"none")+";color:"+(o?"#111":e?"#8dffe6":"#2bb6a2")+";border-radius:14px 14px 0 0;transition:background .17s;",n}h.style="display:flex;border-bottom:1.7px solid #148364;";var x=y("ìš”ì•½",!0),k=y("ì¼ì¼ ê¸°ë¡",!1),C=y("í‹€ë¦° ë‹¨ì–´",!1);h.appendChild(x),h.appendChild(k),h.appendChild(C),v.appendChild(h);var E=document.createElement("div");E.style="padding:6px 7px 9px 7px;min-width:230px;",v.appendChild(E);var M=document.createElement("div");M.style="min-height:140px;padding:16px 2px 2px 2px;",M.innerHTML='<div style="display:flex;align-items:center;margin-bottom:11px;font-size:1.13em;"><span style="font-size:1.27em;color:#FFD700;margin-right:8px;">â­</span><span style="color:'+(e?"#bbffdf":"#009870")+'">ë³„í‘œ ë‹¨ì–´</span><b style="margin-left:auto;color:'+n+';font-size:1.13em;">'+l+'</b></div><div style="display:flex;align-items:center;margin-bottom:11px;font-size:1.13em;"><span style="font-size:1.18em;color:#33bb5c;margin-right:8px;">âœ…</span><span style="color:'+(e?"#eafbe6":"#009870")+'">ì•„ëŠ” ë‹¨ì–´</span><b style="margin-left:auto;color:'+n+';font-size:1.13em;">'+c+'</b></div><div style="display:flex;align-items:center;margin-bottom:11px;font-size:1.13em;"><span style="font-size:1.18em;color:#e24e5c;margin-right:8px;">âŒ</span><span style="color:'+(e?"#ffd1d7":"#e24e5c")+'">í‹€ë¦° ë‹¨ì–´</span><b style="margin-left:auto;color:'+r+';font-size:1.13em;">'+p.length+'</b></div><div style="display:flex;align-items:center;font-size:1.11em;"><span style="margin-right:8px;">ğŸ“š</span><span style="color:'+(e?"#c1e4e8":"#3498db")+'">ì´ ë‹¨ì–´ ìˆ˜</span><b style="margin-left:auto;color:'+(e?"#71ffe2":"#178c7a")+';font-size:1.13em;">'+d+"</b></div>";var B=document.createElement("div");B.style="padding:10px 0 0 0;";var T=document.createElement("div");T.style="max-height:40vh;overflow-y:auto;overflow-x:hidden;overscroll-behavior-y:none;-webkit-overflow-scrolling:touch;border:1px solid "+(e?"#333":"#eee")+";border-radius:10px;";var S=document.createElement("table");S.style="width:100%;margin:0 auto;border-collapse:collapse;";for(var L=document.createElement("thead"),z=document.createElement("tr"),O=["No.","ë‹¨ì–´","íšŸìˆ˜","ë³µì‚¬"],N=0;N<O.length;N++){var D=document.createElement("th");D.textContent=O[N],D.style="font-size:14px;text-align:center;padding:8px 6px;border-bottom:1px solid "+(e?"#3A7A6D":"#86D6C2")+";background:"+(e?"#2A5B51":"#BFEFE1")+";color:"+(e?"#EAF8F3":"#0F3D3E")+";position:sticky; top:0; z-index:10;",0===N&&(D.style.width="17%"),1===N&&(D.style.width="51%"),2===N&&(D.style.width="17%"),3===N&&(D.style.width="15%"),z.appendChild(D)}L.appendChild(z),S.appendChild(L);var _=document.createElement("tbody");if(0===p.length){var A=document.createElement("tr"),V=document.createElement("td");V.colSpan=4,V.style="text-align:center;padding:22px 0;color:#ccc;background:"+a+";",V.textContent="í‹€ë¦° ë‹¨ì–´ ì—†ìŒ",A.appendChild(V),_.appendChild(A)}else for(var P=0;P<p.length;P++){var q=p[P],H=document.createElement("tr");H.style.background=a;var R=document.createElement("td");R.textContent=q.id,R.style="text-align:center;padding:6px 0;color:"+i+";background:"+a+";",H.appendChild(R);var U=document.createElement("td");U.textContent=q.word,U.style="text-align:center;padding:6px 0;font-weight:600;text-decoration:underline;color:"+i+";background:"+a+";cursor:pointer;",U.title="íƒ­í•˜ë©´ ë°œìŒ + ëœ» ë³´ê¸°",U.onclick=function(e,t){return function(){var o="";try{var n=null;if(window.wordMap&&window.wordMap[+e])n=window.wordMap[+e];else if(window.wordsData&&window.wordsData.length)for(var r=0;r<window.wordsData.length;r++)if(+window.wordsData[r].id==+e){n=window.wordsData[r];break}n&&null!=n.word_list_mean&&(o=String(n.word_list_mean))}catch(e){}try{I(t)}catch(e){}var a=String(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=String(o||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");G(a+(i?" : "+i:" : ëœ» ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."))}}(q.id,q.word),H.appendChild(U);var j=document.createElement("td");j.textContent=q.wrongCount,j.style="text-align:center;padding:6px 0;color:"+r+";background:"+a+";",H.appendChild(j);var F=document.createElement("td");F.style="text-align:center;padding:6px 0;background:"+a+";";var Q=document.createElement("button");Q.textContent="ğŸ“‹",Q.title="ë‹¨ì–´ ë³µì‚¬",Q.style="font-size:1em;background:none;border:none;cursor:pointer;padding:0;color:"+i+";",Q.onclick=function(e){return function(){try{var o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),G(t.TEXT_COPIED+"<br>â†’ "+e)}catch(e){}}}(q.word),F.appendChild(Q),H.appendChild(F),_.appendChild(H)}S.appendChild(_),T.appendChild(S),B.appendChild(T);var W=document.createElement("div");W.id="dailyLogUI",W.style="min-width:260px;max-width:92vw;";var K=document.createElement("div");function Y(t,o,n){var r=document.createElement("button");return r.setAttribute("data-days",String(o)),r.textContent=t,r.style.cssText="padding:8px 11px;border-radius:10px;border:1px solid "+(e?"#2aa594":"#78c9b8")+";background:"+(n?e?"#28b49c":"#a2e4d7":"transparent")+";color:"+(n?"#111":e?"#8dffe6":"#2bb6a2")+";font-weight:700;font-size:clamp(13px,3vw,18px);cursor:pointer;",r}K.style="display:flex;gap:6px;align-items:center;justify-content:center;margin:8px 0 10px 0;";var J=Y("7ì¼",7,!0),X=Y("14ì¼",14,!1),$=Y("30ì¼",30,!1);K.appendChild(J),K.appendChild(X),K.appendChild($);var Z=document.createElement("div");Z.style="position:relative;width:100%;height:auto;";var ee=document.createElement("canvas");ee.style.width="100%",ee.style.height="260px",ee.style.display="block",Z.appendChild(ee);var te=document.createElement("div");te.style.cssText="position:absolute;pointer-events:none;opacity:0;transform:translate(-50%,-100%);background:"+(e?"rgba(16,30,28,.95)":"rgba(255,255,255,.95)")+";color:"+(e?"#bff":"#123")+";border:1px solid "+(e?"#0aa":"#8fd")+";padding:6px 8px;border-radius:8px;font-size:clamp(13px,3vw,18px);white-space:pre;box-shadow:0 3px 12px rgba(0,0,0,.18);",Z.appendChild(te),W.appendChild(K),W.appendChild(Z);var oe=document.createElement("div");if(oe.id="dailyLogNotice",oe.style.cssText="margin:12px auto 0;display:inline-block;max-width:92%;padding:8px 12px;font-size:.92em;line-height:1.45;text-align:center;letter-spacing:.01em;font-weight:600;border-radius:10px;font-family:'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif;",function(){var e=document.body.classList.contains("dark-mode");oe.style.color=e?"#d8faf3":"#3b4b56"}(),oe.innerHTML="ğŸ“Š ìµœê·¼ 30ì¼ì˜ í•™ìŠµ ê¸°ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤. ê¸°ì¤€ì€ í€´ì¦ˆ í’€ì´ íšŸìˆ˜ì´ë©°, 30ì¼ì´ ì§€ë‚œ ê¸°ë¡ì€ ì •ë¦¬ë©ë‹ˆë‹¤.",W.appendChild(oe),!document.getElementById("dailyLogStyle")){var ne=document.createElement("style");ne.id="dailyLogStyle",ne.textContent="#dailyLogUI .value-chip{padding:3px 6px;border-radius:7px;background:"+(e?"rgba(16,30,28,.65)":"rgba(255,255,255,.65)")+";box-shadow:0 2px 7px rgba(0,0,0,.15);}#dailyLogNotice{color:#2a3740;background:rgba(255,255,255,.70);border:1px solid rgba(0,0,0,.06);}.dark-mode #dailyLogNotice{color:#eafff7;background:rgba(0,0,0,.22);border:1px solid rgba(113,255,226,.18);}",document.head.appendChild(ne)}function re(e){var t=[];if(!e)return t;if(Array.isArray(e)){for(var o=0;o<e.length;o++){var n=+e[o];isNaN(n)||-1!==t.indexOf(n)||t.push(n)}return t}if("object"==typeof e){for(var r=Object.keys(e),a=0;a<r.length;a++){var i=+r[a];isNaN(i)||-1!==t.indexOf(i)||t.push(i)}return t}return t}function ae(){var e={};try{var t=VBData.dailyLog||{};for(var o in t)t.hasOwnProperty(o)&&(e[o]=re(t[o]))}catch(e){}return e}var ie=ae(),de=Math.max(1,Math.floor(window.devicePixelRatio||1)),le=[],ce=7;function se(e){return 1-Math.pow(1-e,3)}function pe(e){var t=[],n=new Date;n.setHours(0,0,0,0);for(var r=e-1;r>=0;r--){var a=new Date(n.getTime()-864e5*r),i=o(a),d=ie[i],l=d&&d.length?d.length:0;t.push({key:i,date:new Date(a.getTime()),count:l})}return t}function ue(t){return e?{from:"#64ffda",to:"#b388ff",stroke:"#3bd2bb"}:{from:"#a8e6cf",to:"#dcedc1",stroke:"#7ccfb7"}}function me(e,t,o,n,r,a){if(a<1)e.fillRect(t,o,n,r);else{var i=Math.min(a,Math.abs(r)/2,Math.abs(n)/2);e.beginPath(),e.moveTo(t+i,o),e.arcTo(t+n,o,t+n,o+r,i),e.arcTo(t+n,o+r,t,o+r,i),e.arcTo(t,o+r,t,o,i),e.arcTo(t,o,t+n,o,i),e.closePath(),e.fill()}}function be(t){ce=t;var o=Z.clientWidth||320,n=260;ee.width=o*de,ee.height=n*de;var r=ee.getContext("2d");r.setTransform(de,0,0,de,0,0),r.clearRect(0,0,o,n);for(var a=pe(t),i=[],d=0;d<a.length;d++)i.push(a[d].count);for(var l=0,c=0,s=0;s<i.length;s++)i[s]>l&&(l=i[s]),c+=i[s];if(0===c){r.fillStyle=e?"#9eddd5":"#148364",r.font="600 16px 'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif";var p="ìµœê·¼ "+t+"ì¼ í•™ìŠµ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.",u=r.measureText(p).width;return r.fillText(p,(o-u)/2,n/2),void(le=[])}var m=4;r.strokeStyle=e?"rgba(200,255,245,.18)":"rgba(0,0,0,.08)",r.setLineDash([3,4]);for(var b=1;b<=m;b++){var f=Math.round(b/(m+1)*(n-40))+10;r.beginPath(),r.moveTo(10,f),r.lineTo(o-10,f),r.stroke()}r.setLineDash([]);var v=44,g=14,h=o-v-10,y=n-g-48,x=i.length,w=Math.max(2,Math.floor(h/x*.25)),k=Math.max(6,Math.floor((h-w*(x-1))/x)),C=1,E=0;r.save(),r.fillStyle=e?"#bdf5eb":"#2b3a42";var M=Math.max(13,Math.min(18,Math.floor(.03*(window.innerWidth||360))));r.font="600 "+M+"px 'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif";var B="00/00",T=Math.ceil(r.measureText(B).width)+2,S=k+w;C=Math.max(1,Math.ceil(T/Math.max(1,S))),14===t&&C<2&&(C=2),(C>1||S<T)&&(E=45),r.restore();var L=Date.now(),z=x>=60?250:520;function I(){var e=(Date.now()-L)/z;e>1&&(e=1),N(se(e)),e<1&&requestAnimationFrame(I)}var O=!("ontouchstart"in window||navigator.maxTouchPoints>0);function N(t){r.clearRect(0,0,o,n),r.strokeStyle=e?"rgba(200,255,245,.18)":"rgba(0,0,0,.08)",r.setLineDash([3,4]);for(var d=1;d<=m;d++){var c=Math.round(d/(m+1)*(n-40))+10;r.beginPath(),r.moveTo(10,c),r.lineTo(o-10,c),r.stroke()}r.setLineDash([]),r.save(),r.fillStyle=e?"#bdf5eb":"#2b3a42",r.font="600 11px 'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif",r.textAlign="right",r.textBaseline="middle",r.fillText("0",v-6,g+y);for(var s=1;s<=m;s++){var p=Math.round(s/(m+1)*(n-40))+10,u=Math.round(l*(1-s/(m+1)));r.fillText(String(u),v-6,p)}r.fillText(String(l),v-6,g),r.restore(),le=[];for(var b=0,f=1;f<i.length;f++)i[f]>i[b]&&(b=f);for(var h=0;h<x;h++){var M=i[h],B=0===l?0:Math.round(M/l*y*t),T=v+h*(k+w),S=g+(y-B),L=ue(),z=r.createLinearGradient(0,S,0,S+B);if(z.addColorStop(0,L.from),z.addColorStop(1,L.to),r.fillStyle=z,me(r,T,S,k,B,Math.min(8,Math.floor(k/2))),le.push({x:T,y:S,w:k,h:B,idx:h}),O&&M>0){var I=String(M);r.font="600 13px 'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif";var N=r.measureText(I).width,D=T+k/2-N/2-5,_=S-18;r.fillStyle=e?"rgba(16,30,28,.65)":"rgba(255,255,255,.65)",me(r,D,_,N+10,18,7),r.fillStyle=e?"#bff":"#123",r.fillText(I,D+5,_+13)}}r.save(),r.fillStyle=e?"#bdf5eb":"#2b3a42";var A=Math.max(13,Math.min(18,Math.floor(.03*(window.innerWidth||360))));r.font="600 "+A+"px 'Segoe UI','Apple SD Gothic Neo','Noto Sans KR',sans-serif";for(var V=0;V<x;V++)if(V%C==0){var P=a[V].date,q=P.getMonth()+1+"/"+P.getDate(),H=v+V*(k+w)+k/2,R=n-12;if(E){r.save(),r.translate(H,R),r.rotate(-Math.PI/4);var U=r.measureText(q).width;r.fillText(q,-U/2,0),r.restore()}else{var j=r.measureText(q).width;r.fillText(q,H-j/2,R)}}r.restore()}function D(e,t){for(var o=0;o<le.length;o++){var n=le[o];if(e>=n.x&&e<=n.x+n.w&&t>=n.y&&t<=n.y+n.h)return n}return null}function _(e,t){var o=a[e],n=o.count,r=e>0?a[e-1].count:null,i=null;i=null===r?"â€”":0===r&&n>0?"+âˆ%":0===r&&0===n?"0%":((n-r)/r*100).toFixed(0)+"%";var d=o.key+"\n"+n+"ê°œ\nì „ì¼ ëŒ€ë¹„ "+i;te.textContent=d,te.style.opacity="1",te.style.left=t-Z.getBoundingClientRect().left+"px",te.style.top="10px"}function A(){te.style.opacity="0"}I(),ee.onmousemove=function(e){var t=ee.getBoundingClientRect();D((e.clientX-t.left)*(ee.width/t.width)/de,(e.clientY-t.top)*(ee.height/t.height)/de)||A()},ee.onmouseleave=A,ee.onclick=function(e){var t=ee.getBoundingClientRect(),o=D((e.clientX-t.left)*(ee.width/t.width)/de,(e.clientY-t.top)*(ee.height/t.height)/de);o&&_(o.idx,e.clientX)},window.addEventListener("resize",(function(){be(ce)}),!1)}function fe(t){J.style.background="none",J.style.color=e?"#8dffe6":"#2bb6a2",X.style.background="none",X.style.color=e?"#8dffe6":"#2bb6a2",$.style.background="none",$.style.color=e?"#8dffe6":"#2bb6a2",t.style.background=e?"#28b49c":"#a2e4d7",t.style.color="#111"}function ve(t){x.style.background="none",x.style.color=e?"#8dffe6":"#2bb6a2",k.style.background="none",k.style.color=e?"#8dffe6":"#2bb6a2",C.style.background="none",C.style.color=e?"#8dffe6":"#2bb6a2",E.innerHTML="","sum"===t?(x.style.background=e?"#28b49c":"#a2e4d7",x.style.color="#111",E.appendChild(M)):"daily"===t?(k.style.background=e?"#28b49c":"#a2e4d7",k.style.color="#111",E.appendChild(W),setTimeout((function(){fe(J),be(7)}),0)):(C.style.background=e?"#28b49c":"#a2e4d7",C.style.color="#111",E.appendChild(B))}be(7),J.onclick=function(){fe(J),be(7)},X.onclick=function(){fe(X),be(14)},$.onclick=function(){fe($),be(30)},x.onclick=function(){ve("sum")},k.onclick=function(){ve("daily")},C.onclick=function(){ve("wrong")},ve("sum");var ge=document.createElement("button");ge.textContent="ë‹«ê¸°",ge.style="display:block;width:95%;margin:0.5em auto 0.5em auto;padding:0.5em 0;font-size:1.13em;font-weight:700;color:"+(e?"#fff":"#111")+";background:"+(e?"#2cc0a7":"#b3f0dd")+";border:none;border-radius:11px;cursor:pointer;box-shadow:0 3px 14px #43b8a94a;",ge.onclick=function(){document.body.removeChild(f)},v.appendChild(ge),f.appendChild(v),document.body.appendChild(f)}()},document.body.appendChild(i)}}function ae(e){for(var t=["goMemo","goShuffle","goReview","goStats"],o=0;o<t.length;o++)!function(o){var n=document.getElementById(t[o]);n&&(e?(n.style.opacity="1",n.style.pointerEvents="auto",n.style.transform="translateY(20px) scale(0.7)",setTimeout((function(){n.style.transform="translateY(0) scale(1)"}),20+40*o)):(n.style.opacity="0",n.style.pointerEvents="none",n.style.transform="translateY(20px) scale(0.7)"))}(o)}function ie(){var e=document.getElementById("vbLicenseOverlay");e&&e.parentNode&&e.parentNode.removeChild(e);var t=document.createElement("div");t.id="vbLicenseOverlay",t.className="vbOverlay";var o=document.createElement("div");o.id="vbLicenseModal";var n=document.createElement("div");n.className="vbLicHead";var r=document.createElement("div");r.className="vbLicTitle",r.textContent="VocabularyBox ë¼ì´ì„ ìŠ¤";var a=document.createElement("button");a.type="button",a.className="vbLicClose",a.setAttribute("aria-label","ë‹«ê¸°"),n.appendChild(r),n.appendChild(a);var i=document.createElement("div");i.className="vbLicBody";var d=document.createElement("pre");d.textContent="VocabularyBox â€” ê°œì¸ ì‚¬ìš© ì „ìš© / ì¬ë°°í¬ ê¸ˆì§€ ë¼ì´ì„ ìŠ¤\nCopyright (c) 2026 Ruby. All rights reserved.\n\në³¸ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ê°œì¸ì Â·ë¹„ìƒì—…ì  ëª©ì ì— í•œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒ í–‰ìœ„ëŠ” ë³¸ ë¼ì´ì„ ìŠ¤ì— ë”°ë¼ ëª…ì‹œì ìœ¼ë¡œ ê¸ˆì§€ë©ë‹ˆë‹¤.\n\n1) ë³¸ ì†Œí”„íŠ¸ì›¨ì–´(ì¼ë¶€ í¬í•¨)ë¥¼ ì¬ë°°í¬, ê³µìœ , ê²Œì‹œ, ì—…ë¡œë“œ, ì œê³µí•˜ëŠ” í–‰ìœ„\n2) íŒë§¤, ì„ëŒ€, ì–‘ë„, ì¬í—ˆê°€, ê¸°íƒ€ ì˜ë¦¬ ëª©ì ì˜ ì´ìš©\n3) ì €ì‘ê¶Œ í‘œì‹œ ë° ë¼ì´ì„ ìŠ¤ ë¬¸êµ¬ë¥¼ ì‚­ì œÂ·ë³€ê²½í•˜ëŠ” í–‰ìœ„\n\nìƒê¸° ì–¸ê¸‰ëœ í–‰ìœ„ëŠ” ê´€ë ¨ ì €ì‘ê¶Œë²•ì„ ìœ„ë°˜í•˜ëŠ” í–‰ìœ„ì— í•´ë‹¹í•  ìˆ˜ ìˆìœ¼ë©°, ê·¸ì— ë”°ë¼ í˜•ì‚¬ì±…ì„ ë° ë¯¼ì‚¬ìƒ ì†í•´ë°°ìƒì±…ì„ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në³¸ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” â€œìˆëŠ” ê·¸ëŒ€ë¡œ(AS IS)â€ ì œê³µë˜ë©°, ì–´ë– í•œ ë³´ì¦ë„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n",i.appendChild(d),o.appendChild(n),o.appendChild(i),t.appendChild(o),document.body.appendChild(t),de();var l=function(e){var t=(e=e||window.event).key||e.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||c()};function c(){document.removeEventListener("keydown",l,!1),t&&t.parentNode&&t.parentNode.removeChild(t),le()}a.onclick=c,t.addEventListener("click",(function(e){e.target===t&&c()}),!1),document.addEventListener("keydown",l,!1),setTimeout((function(){try{a.focus()}catch(e){}}),0)}function de(){if(!de._locked){de._locked=!0;var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;de._y=e,de._prev={overflow:document.body.style.overflow,position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,right:document.body.style.right,width:document.body.style.width},-1===(" "+document.body.className+" ").indexOf(" vbxModalOpen ")&&(document.body.className=(document.body.className?document.body.className+" ":"")+"vbxModalOpen"),document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=-e+"px",document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%"}}function le(){if(de._locked){de._locked=!1;var e=de._prev||{};document.body.style.overflow=e.overflow||"",document.body.style.position=e.position||"",document.body.style.top=e.top||"",document.body.style.left=e.left||"",document.body.style.right=e.right||"",document.body.style.width=e.width||"",document.body.className=(" "+document.body.className+" ").replace(" vbxModalOpen "," ").replace(/\s+/g," ").replace(/^\s|\s$/g,""),window.scrollTo(0,de._y||0)}}(Z=document.createElement("style")).textContent="html {-webkit-text-size-adjust:100%; text-size-adjust:100%;}.example-box,.meaning-text,.pronounce{white-space:normal !important;word-break:break-word !important;overflow-wrap:anywhere !important;}",document.head.appendChild(Z)}(window);</script></body></html>